# ⚙️ 시스템 운영 및 관리 가이드 (Admin Guide)

관리자 및 엔지니어를 위한 **설치, 실행, 설정 및 트러블슈팅** 가이드입니다.

---

## 📋 목차

1. [설치 가이드](#1-설치-가이드)
2. [실행 방법](#2-실행-방법)
3. [설정 및 디버깅](#3-설정-및-디버깅)
4. [문제 해결 (Troubleshooting)](#4-문제-해결-troubleshooting)

---

## 1. 설치 가이드

### 1.1 사전 요구사항
- **OS**: Windows 10/11, Linux (Ubuntu 20.04+), macOS
- **Runtime**:
    - Python 3.9 이상
    - Node.js 18.0 이상
- **Hardware**: 16GB RAM 이상 권장

### 1.2 설치 단계

1. **가상환경 생성 및 활성화**
   ```bash
   python -m venv .venv
   
   # Windows
   .venv\Scripts\activate
   # Mac/Linux
   source .venv/bin/activate
   ```

2. **Backend 의존성 설치**
   ```bash
   pip install -r requirements.txt
   ```

3. **Frontend 의존성 설치**
   ```bash
   cd frontend
   npm install
   ```

---

## 2. 실행 방법

시스템을 구동하려면 **Backend(API 서버)**와 **Frontend(UI 서버)**를 각각 실행해야 합니다.

### 2.1 Backend 실행 (Terminal 1)
FastAPI 서버를 구동합니다.
```bash
# 프로젝트 루트 경로에서 실행
python -m uvicorn api.main:app --reload --host 0.0.0.0 --port 8000
```

### 2.2 Frontend 실행 (Terminal 2)
React 개발 서버를 구동합니다.
```bash
cd frontend
npm run dev
```

### 2.3 접속
브라우저에서 `http://localhost:5173`으로 접속합니다.

---

## 3. 설정 및 디버깅

### 3.1 디버깅 모드 설정 (`DEBUG_MODE`)
운영 환경과 개발 환경을 구분하기 위해 디버깅 모드를 제공합니다.

- **설정 파일**: `config/global.yaml`
  ```yaml
  debug_mode: true  # true: 상세 로그, false: 운영 모드
  log_level: "DEBUG"
  ```

- **환경 변수로 설정**:
  ```bash
  # Windows
  set DEBUG_MODE=true
  ```

### 3.2 로그 레벨
- **DEBUG**: 개발용 상세 정보 (파라미터, 내부 변수 등)
- **INFO**: 운영용 핵심 정보 (요청 처리, 주요 에러)

---

## 4. 문제 해결 (Troubleshooting)

### Q1. 서버 실행 중 `ModuleNotFoundError` 발생
- 가상환경이 활성화되었는지 확인하세요. (`(.venv)` 표시 확인)
- `pip install -r requirements.txt`를 다시 실행하세요.

### Q2. 맵이 검은색으로 표시됨
- 오프라인 맵 타일 서버가 실행 중인지 확인하세요.
- `scripts/serve_offline_map.py` 스크립트를 실행해 보세요.

### Q3. 온톨로지 로딩 실패
- `data_lake/` 폴더 내의 엑셀 파일이 열려있는지 확인하세요. (파일 잠금 문제)
- `validate_data_quality.py` 스크립트로 데이터 정합성을 검사하세요.

---

**문서 정보**
- **작성일**: 2026-01-26
- **버전**: 2.0

# Defense Intelligent Agent Platform 사용자 가이드

## 1. 개요
본 시스템은 국방 분야의 지능형 방책(COA) 추천을 위한 프로토타입 플랫폼입니다. 온톨로지 기반의 지식 표현과 AI 에이전트 기술을 활용하여 지휘관의 의사결정을 지원합니다.

### 주요 기능
- **온톨로지 생성**: 엑셀 데이터를 기반으로 지식 그래프 자동 생성
- **방책 추천**: 위협 상황을 분석하여 최적의 방책(방어, 공격 등 7가지 유형) 추천
- **투명한 추론**: 추천 근거와 점수 산출 과정을 시각적으로 제시
- **LLM 협력**: 거대언어모델과 에이전트의 협력을 통한 정교한 분석

---

## 2. 시작하기

### 2.1 시스템 요구사항
- **OS**: Windows 10/11, Linux, macOS
- **Python**: 3.9 이상 (3.12 이상 권장)
- **Excel**: 데이터 파일 편집용

### 2.2 설치 및 실행
1. **폴더 이동**: 탐색기에서 프로젝트 폴더(`c:\POC\COA_Agent_Platform`)로 이동
2. **실행**: `run_streamlit.py` 파일을 실행하거나 터미널에서 다음 명령 입력
   ```bash
   python run_streamlit.py
   ```
3. **접속**: 브라우저가 자동으로 열리며 시스템에 접속됩니다. (주소: `http://localhost:8501`)

---

## 3. 데이터 준비

시스템은 `data_lake` 폴더 내의 엑셀 파일을 사용하여 동작합니다.

### 3.1 주요 데이터 파일
| 파일명 | 설명 | 주요 컬럼 |
|---|---|---|
| `COA_Library.xlsx` | 방책 라이브러리 | ID, 명칭, 방책유형, 설명, 적용조건 |
| `위협상황.xlsx` | 위협 시나리오 | ID, 위협유형, 심각도, 설명 |
| `평가기준_가중치.xlsx` | 추천 알고리즘 설정 | 기준, 가중치, 설명 |

### 3.2 데이터 수정 방법
1. 엑셀로 해당 파일을 엽니다.
2. 새로운 행을 추가하여 데이터를 입력합니다.
3. 저장 후 시스템을 재시작하거나 '새로고침' 버튼을 누릅니다.

---

## 4. 실습 가이드

### 4.1 온톨로지 생성 및 시각화
1. 좌측 사이드바에서 **"2단계: 온톨로지 구축"** 메뉴 선택
2. **"온톨로지 생성/업데이트"** 버튼 클릭
   - 엑셀 데이터를 읽어 지식 그래프를 생성합니다.
3. **"그래프 시각화"** 탭 선택
   - 생성된 지식 그래프를 확인합니다.
   - **파란색**: 방어 방책, **빨간색**: 공격 방책 등 색상으로 구분됩니다.

### 4.2 방책 추천 실행
1. 좌측 사이드바에서 **"5단계: Agent 실행"** 메뉴 선택
2. **Agent 선택**: "Enhanced Defense COA Agent" 선택
3. **상황 정보 입력**:
   - "여기서 입력" 선택 후 위협 수준(0.0~1.0) 등을 설정
   - 또는 "대시보드에서 상황 정보 입력"을 통해 미리 정의된 시나리오 선택
4. **실행**: 하단의 채팅창에 "현재 상황에 적합한 방책을 추천해줘" 입력
5. **결과 확인**:
   - 추천된 방책 목록과 점수 확인
   - **"📊 추론 과정 상세"** 섹션에서 점수 산출 근거 확인

---

## 5. 결과 해석 방법

### 5.1 추천 점수 (0.0 ~ 1.0)
- **0.8 이상**: 매우 적합 (강력 추천)
- **0.6 ~ 0.8**: 적합 (고려 가능)
- **0.6 미만**: 부적합 (조건부 고려)

### 5.2 평가 요소
- **위협 대응**: 적의 위협 수준에 비례하는 대응 능력
- **자원 효율**: 가용 자원 대비 소요 자원의 적절성
- **자산 능력**: 아군 부대의 전투력 및 사기
- **환경 적합**: 지형, 기상 등 작전 환경과의 부합 여부
- **과거 사례**: 유사 상황에서의 과거 성공률

### 5.3 팔란티어 모드
- 각 방책별로 독립적인 시뮬레이션을 수행하여 정밀하게 점수를 산출하는 모드입니다.
- 실행 시간이 다소 길어질 수 있으나, 더 정확한 결과를 제공합니다.

---

**작성일**: 2025년 12월  
**최종 업데이트**: 2025-12-18  
**버전**: 1.0

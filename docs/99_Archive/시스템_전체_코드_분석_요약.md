# COA Agent Platform - ì „ì²´ ì‹œìŠ¤í…œ ì½”ë“œ ë¶„ì„ ìš”ì•½

**ì‘ì„±ì¼**: 2025-12-22  
**ë²„ì „**: 1.0  
**ëª©ì **: í”„ë¡œì íŠ¸ ì „ì²´ ì½”ë“œë² ì´ìŠ¤ ë¶„ì„ ë° ìš”ì•½

---

## ğŸ“‹ ëª©ì°¨

1. [ì‹œìŠ¤í…œ ê°œìš”](#1-ì‹œìŠ¤í…œ-ê°œìš”)
2. [ì „ì²´ ì•„í‚¤í…ì²˜](#2-ì „ì²´-ì•„í‚¤í…ì²˜)
3. [ì£¼ìš” ì»´í¬ë„ŒíŠ¸ ìƒì„¸](#3-ì£¼ìš”-ì»´í¬ë„ŒíŠ¸-ìƒì„¸)
4. [ë°ì´í„° íë¦„](#4-ë°ì´í„°-íë¦„)
5. [ê¸°ìˆ  ìŠ¤íƒ](#5-ê¸°ìˆ -ìŠ¤íƒ)
6. [íŒŒì¼ êµ¬ì¡°](#6-íŒŒì¼-êµ¬ì¡°)
7. [ì‹¤í–‰ ë°©ë²•](#7-ì‹¤í–‰-ë°©ë²•)
8. [ì£¼ìš” ê¸°ëŠ¥ ìš”ì•½](#8-ì£¼ìš”-ê¸°ëŠ¥-ìš”ì•½)

---

## 1. ì‹œìŠ¤í…œ ê°œìš”

### 1.1 ì‹œìŠ¤í…œ ëª©ì 

**COA Agent Platform**ì€ ì˜¨í†¨ë¡œì§€ ê¸°ë°˜ ì§€ì‹ í‘œí˜„ê³¼ AI ì—ì´ì „íŠ¸ ê¸°ìˆ ì„ í™œìš©í•œ **êµ°ì‚¬ ì˜ì‚¬ê²°ì • ì§€ì› ì‹œìŠ¤í…œ**ì˜ í”„ë¡œí† íƒ€ì…ì…ë‹ˆë‹¤.

**í•µì‹¬ ëª©í‘œ**:
- ì˜¨í†¨ë¡œì§€ ê¸°ë°˜ ì§€ì‹ í‘œí˜„ í•™ìŠµ ë° ê²€ì¦
- AI ì—ì´ì „íŠ¸ë¥¼ í†µí•œ ë°©ì±…(COA) ì¶”ì²œ ë¡œì§ ê²€ì¦
- ë³¸ê²© ì‹œìŠ¤í…œ ê°œë°œ ì „ ê°œë… ê²€ì¦ (PoC)
- ê´€ë ¨ ì¸ë ¥ì˜ ì´í•´ë„ í–¥ìƒ

### 1.2 ì‹œìŠ¤í…œ íŠ¹ì§•

| íŠ¹ì§• | ì„¤ëª… |
|------|------|
| **ë°ì´í„° ê´€ë¦¬** | Excel/Access ê¸°ë°˜ PC í™˜ê²½, `data_lake/` ë””ë ‰í† ë¦¬ |
| **ì˜¨í†¨ë¡œì§€** | RDF ê¸°ë°˜ ìë™ ìƒì„± ë° ì‹œê°í™” (EnhancedOntologyManager) |
| **RAG** | ì˜ë¯¸ ê¸°ë°˜ ë¬¸ì„œ ê²€ìƒ‰ (FAISS ë²¡í„° ì¸ë±ìŠ¤) |
| **AI ì—ì´ì „íŠ¸** | 7ê°€ì§€ COA íƒ€ì… ì§€ì› (ë°©ì–´/ê³µê²©/ë°˜ê²©/ì„ ì œ/ì–µì œ/ê¸°ë™/ì •ë³´ì‘ì „) |
| **LLM í†µí•©** | OpenAI API, ë¡œì»¬ ëª¨ë¸ ì§€ì› (LLMManager) |
| **UI** | Streamlit ê¸°ë°˜ ëŒ€í™”í˜• ì¸í„°í˜ì´ìŠ¤ |
| **ì§€ë„ ì‹œê°í™”** | MapLibre GL JS ê¸°ë°˜ ì „ìˆ ìƒí™©ë„(COP) í‘œì‹œ |

### 1.3 íŒ”ë€í‹°ì–´ ë²¤ì¹˜ë§ˆí‚¹

ë³¸ ì‹œìŠ¤í…œì€ Palantirì˜ í•µì‹¬ ê°œë…ì„ ì°¸ê³ í–ˆìŠµë‹ˆë‹¤:
- **Foundry**: ë°ì´í„° ì˜¨í†¨ë¡œì§€ ê¸°ë°˜ í†µí•©
- **AIP**: AI ì—ì´ì „íŠ¸ í˜‘ë ¥ ë° ì»¨í…ìŠ¤íŠ¸ ì—”ì§„
- **Gotham**: êµ­ë°© íŠ¹í™” ê¸°ëŠ¥

**ì°¨ë³„ì **: PC ë‹¨ë… ì‹¤í–‰, êµìœ¡/í•™ìŠµ ì¤‘ì‹¬, ë‹¨ìˆœí™”ëœ êµ¬ì¡°

---

## 2. ì „ì²´ ì•„í‚¤í…ì²˜

### 2.1 ë ˆì´ì–´ êµ¬ì¡°

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Command Layer (ì§€íœ˜í†µì œ) - Streamlit UI                 â”‚
â”‚  - ìƒí™© ì…ë ¥ (Dashboard)                                  â”‚
â”‚  - ë°©ì±… ê²°ê³¼ ì‹œê°í™”                                       â”‚
â”‚  - ì „ëµ ì²´ì¸ ì‹œê°í™”                                       â”‚
â”‚  - ì „ìˆ ìƒí™©ë„(COP) í‘œì‹œ                                  â”‚
â”‚  - ì‚¬ìš©ì í”¼ë“œë°±                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                        â†“ â†‘
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Agent Layer (ì§€ëŠ¥í˜• ì—ì´ì „íŠ¸)                            â”‚
â”‚  - COA ì¶”ì²œ Agent (EnhancedDefenseCOAAgent)             â”‚
â”‚    â”œâ”€ ìƒí™© ë¶„ì„ (ë‚´ë¶€ ë©”ì„œë“œ)                              â”‚
â”‚    â”œâ”€ COA ì¶”ì²œ (ë‚´ë¶€ ë©”ì„œë“œ)                              â”‚
â”‚    â””â”€ LLM í˜‘ë ¥                                           â”‚
â”‚  - LLM Manager                                           â”‚
â”‚  - ì ìˆ˜ ê³„ì‚°ê¸° (COA Scorer)                              â”‚
â”‚  - ì˜¨í†¨ë¡œì§€ ì¶”ë¡ ê¸° (SPARQL)                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                        â†“ â†‘
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Orchestration Layer (íŒŒì´í”„ë¼ì¸ ì¡°ìœ¨)                     â”‚
â”‚  - Orchestrator                                          â”‚
â”‚  - CorePipeline                                          â”‚
â”‚    â”œâ”€ DataManager                                        â”‚
â”‚    â”œâ”€ EnhancedOntologyManager                            â”‚
â”‚    â”œâ”€ RAGManager                                         â”‚
â”‚    â”œâ”€ LLMManager                                         â”‚
â”‚    â”œâ”€ ReasoningEngine                                    â”‚
â”‚    â””â”€ RelationshipChain                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                        â†“ â†‘
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Data Layer (ì›ì²œ ë°ì´í„° ê´€ë¦¬)                            â”‚
â”‚  - Excel íŒŒì¼ (data_lake/)                               â”‚
â”‚  - RDF ê·¸ë˜í”„ (ì˜¨í†¨ë¡œì§€)                                  â”‚
â”‚  - FAISS ì¸ë±ìŠ¤ (RAG)                                    â”‚
â”‚  - MBTiles (ì§€ë„ ë°ì´í„°)                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 2.2 í•µì‹¬ ì„¤ê³„ ì›ì¹™

- **ë ˆì´ì–´ ë¶„ë¦¬**: Data, Orchestration, Agent, Command ë ˆì´ì–´ë¡œ ëª…í™•íˆ êµ¬ë¶„
- **ë‹¨ì¼ ì±…ì„**: ê° ì»´í¬ë„ŒíŠ¸ëŠ” ëª…í™•í•œ ì—­í• ê³¼ ì±…ì„ì„ ê°€ì§
- **í™•ì¥ ê°€ëŠ¥**: ìƒˆë¡œìš´ Agentë‚˜ ê¸°ëŠ¥ ì¶”ê°€ê°€ ìš©ì´í•œ êµ¬ì¡°
- **íˆ¬ëª…ì„±**: ì¶”ë¡  ê³¼ì •ê³¼ ê·¼ê±°ë¥¼ ì‹œê°ì ìœ¼ë¡œ ì œì‹œ

---

## 3. ì£¼ìš” ì»´í¬ë„ŒíŠ¸ ìƒì„¸

### 3.1 Command Layer (UI)

#### 3.1.1 Streamlit ì•±

**íŒŒì¼**: `ui/dashboard.py`, `ui/coa_agent_app.py`

**ì£¼ìš” í˜ì´ì§€**:
- **Dashboard** (`ui/dashboard.py`): í†µí•© ëŒ€ì‹œë³´ë“œ
- **Agent ì‹¤í–‰** (`ui/views/agent_execution.py`): Agent ì„ íƒ, ìƒí™© ì…ë ¥, ì‹¤í–‰, ê²°ê³¼ í™•ì¸
- **ì˜¨í†¨ë¡œì§€ ìƒì„±** (`ui/views/ontology_generation.py`): Excel â†’ RDF ë³€í™˜
- **ì§€ì‹ ê·¸ë˜í”„** (`ui/views/knowledge_graph.py`): ì˜¨í†¨ë¡œì§€ ì‹œê°í™”
- **RAG ì¸ë±ì‹±** (`ui/views/rag_indexing.py`): ë¬¸ì„œ ì„ë² ë”© ìƒì„±
- **ë°ì´í„° ê´€ë¦¬** (`ui/views/data_management.py`): Excel ë°ì´í„° ê´€ë¦¬

#### 3.1.2 COP ì‹œê°í™” ì»´í¬ë„ŒíŠ¸

**íŒŒì¼**: `ui/components/ontology_aware_cop.py`

**ê¸°ëŠ¥**:
- MapLibre GL JS ê¸°ë°˜ ì „ìˆ ìƒí™©ë„ í‘œì‹œ
- MBTiles ë²¡í„° íƒ€ì¼ ë Œë”ë§
- ìœ„í˜‘(Threat), ë¶€ëŒ€(Unit), COA ê²½ë¡œ ì‹œê°í™”
- Milsymbol.jsë¥¼ í†µí•œ êµ°ì‚¬ ì‹¬ë³¼ í‘œì‹œ
- ì¸í„°ë™í‹°ë¸Œ ê¸°ëŠ¥ (í´ë¦­, íŒì—…, í˜¸ë²„)

**ì§€ë„ ì„œë²„**: `tools/map_server_osm.py` (í¬íŠ¸ 8080)
- MBTiles ë²¡í„° íƒ€ì¼ ì„œë¹™
- GeoJSON íŒŒì¼ ì„œë¹™
- ì •ì  ë¼ì´ë¸ŒëŸ¬ë¦¬ ì„œë¹™

### 3.2 Agent Layer

#### 3.2.1 EnhancedDefenseCOAAgent

**íŒŒì¼**: `agents/defense_coa_agent/logic_defense_enhanced.py`

**ì—­í• **: ìƒí™© ë¶„ì„ ë° COA ì¶”ì²œ (í†µí•© Agent)

**ì£¼ìš” ë©”ì„œë“œ**:
- `execute_reasoning()`: ì „ì²´ ì¶”ë¡  í”„ë¡œì„¸ìŠ¤ ì‹¤í–‰
- `_analyze_situation()`: ìƒí™© ë¶„ì„
  - ë‹¤ì°¨ì› ë¶„ì„
  - ê´€ë ¨ ì—”í‹°í‹° íƒìƒ‰
  - RAG ê²€ìƒ‰
  - LLM í˜‘ë ¥
- `_recommend_by_type()`: íƒ€ì…ë³„ ë°©ì±… ì¶”ì²œ
- `_score_with_palantir_mode()`: íŒ”ë€í‹°ì–´ ëª¨ë“œ ì ìˆ˜ ê³„ì‚°

**ì§€ì›í•˜ëŠ” ë°©ì±… íƒ€ì…** (7ê°€ì§€):
```python
self.supported_coa_types = [
    "defense",        # ë°©ì–´
    "offensive",      # ê³µê²©
    "counter_attack", # ë°˜ê²©
    "preemptive",     # ì„ ì œ
    "deterrence",     # ì–µì œ
    "maneuver",       # ê¸°ë™
    "information_ops" # ì •ë³´ì‘ì „
]
```

**ì…ë ¥ ë°©ì‹** (4ê°€ì§€):
1. ì‹¤ì œ ë°ì´í„° (Excel íŒŒì¼)
2. SITREP (ìƒí™© ë³´ê³ ì„œ)
3. ìˆ˜ë™ ì…ë ¥
4. ë°ëª¨ ì‹œë‚˜ë¦¬ì˜¤

### 3.3 Orchestration Layer

#### 3.3.1 Orchestrator

**íŒŒì¼**: `core_pipeline/orchestrator.py`

**ì—­í• **: ì „ì²´ íŒŒì´í”„ë¼ì¸ ì¡°ìœ¨ ë° Agent ê´€ë¦¬

**ì£¼ìš” ê¸°ëŠ¥**:
- Agent í´ë˜ìŠ¤ ë¡œë“œ ë° ë“±ë¡
- CorePipeline ì´ˆê¸°í™”
- LLM/RAG/ì˜¨í†¨ë¡œì§€ ì„œë¹„ìŠ¤ ì—°ê²°

#### 3.3.2 CorePipeline

**íŒŒì¼**: `core_pipeline/orchestrator.py` (CorePipeline í´ë˜ìŠ¤)

**ì£¼ìš” ì»´í¬ë„ŒíŠ¸**:
- `data_manager`: DataManager ì¸ìŠ¤í„´ìŠ¤
- `ontology_manager`: EnhancedOntologyManager ì¸ìŠ¤í„´ìŠ¤
- `rag_manager`: RAGManager ì¸ìŠ¤í„´ìŠ¤
- `llm_manager`: LLMManager ì¸ìŠ¤í„´ìŠ¤
- `reasoning_engine`: ReasoningEngine ì¸ìŠ¤í„´ìŠ¤
- `relationship_chain`: RelationshipChain ì¸ìŠ¤í„´ìŠ¤

### 3.4 Data Layer

#### 3.4.1 DataManager

**íŒŒì¼**: `core_pipeline/data_manager.py`

**ì—­í• **: Excel íŒŒì¼ ë¡œë“œ ë° ë°ì´í„° ê´€ë¦¬

**ì£¼ìš” ë©”ì„œë“œ**:
- `load_all()`: ëª¨ë“  Excel íŒŒì¼ ë¡œë“œ
- `load_table()`: íŠ¹ì • í…Œì´ë¸” ë¡œë“œ
- `get_loader()`: íŠ¹ì • ë¡œë” ê°€ì ¸ì˜¤ê¸°

**ë°ì´í„° ì†ŒìŠ¤**: `data_lake/` ë””ë ‰í† ë¦¬
- COA_Library.xlsx
- ìœ„í˜‘ìƒí™©.xlsx
- ì•„êµ°ë¶€ëŒ€í˜„í™©.xlsx
- ì êµ°ë¶€ëŒ€í˜„í™©.xlsx
- ì„ë¬´ì •ë³´.xlsx
- ì „ì¥ì¶•ì„ .xlsx
- ì œì•½ì¡°ê±´.xlsx
- ì§€í˜•ì…€.xlsx
- í‰ê°€ê¸°ì¤€_ê°€ì¤‘ì¹˜.xlsx

#### 3.4.2 EnhancedOntologyManager

**íŒŒì¼**: `core_pipeline/ontology_manager_enhanced.py`

**ì—­í• **: RDF ê·¸ë˜í”„ êµ¬ì¶• ë° SPARQL ì¿¼ë¦¬

**ì£¼ìš” ê¸°ëŠ¥**:
- Excel ë°ì´í„°ë¥¼ RDF ì‚¼ì¤‘í•­ìœ¼ë¡œ ë³€í™˜
- SPARQL ì¿¼ë¦¬ ì‹¤í–‰
- ì¶”ë¡ ëœ ê·¸ë˜í”„ ìƒì„±
- ì˜¨í†¨ë¡œì§€ ì‹œê°í™”

**ì¶œë ¥**: `outputs/k_c4i_instances_owl.ttl`

#### 3.4.3 RAGManager

**íŒŒì¼**: `core_pipeline/rag_manager.py`

**ì—­í• **: ë²¡í„° ê²€ìƒ‰ ê¸°ë°˜ ë¬¸ì„œ ê²€ìƒ‰

**ì£¼ìš” ê¸°ëŠ¥**:
- ë¬¸ì„œ ì„ë² ë”© ìƒì„± (sentence-transformers)
- FAISS ì¸ë±ìŠ¤ êµ¬ì¶•
- ìœ ì‚¬ ë¬¸ì„œ ê²€ìƒ‰

**ë°ì´í„° ì†ŒìŠ¤**: `knowledge/rag_docs/` ë””ë ‰í† ë¦¬

#### 3.4.4 LLMManager

**íŒŒì¼**: `core_pipeline/llm_manager.py`

**ì—­í• **: LLM ì„œë¹„ìŠ¤ ê´€ë¦¬

**ì§€ì› ëª¨ë¸**:
- OpenAI API (GPT-4, GPT-3.5)
- ë¡œì»¬ ëª¨ë¸ (HuggingFace Transformers)

### 3.5 COA Engine

#### 3.5.1 COAService

**íŒŒì¼**: `core_pipeline/coa_service.py`

**ì—­í• **: COA Agent ë°ëª¨ë¥¼ ìœ„í•œ í†µí•© ì„œë¹„ìŠ¤ ë ˆì´ì–´

**ì£¼ìš” ë©”ì„œë“œ**:
- `generate_coas_unified()`: í†µí•© COA ìƒì„±
- `evaluate_coas()`: COA í‰ê°€
- `parse_sitrep()`: SITREP íŒŒì‹±

#### 3.5.2 COA Generator

**íŒŒì¼**: `core_pipeline/coa_engine/coa_generator.py`, `coa_generator_enhanced.py`

**ì—­í• **: COA ìƒì„± ë¡œì§

**ê¸°ëŠ¥**:
- í…œí”Œë¦¿ ê¸°ë°˜ COA ìƒì„±
- LLM í˜‘ë ¥ COA ìƒì„± (Enhanced ë²„ì „)

#### 3.5.3 COA Evaluator

**íŒŒì¼**: `core_pipeline/coa_engine/coa_evaluator.py`, `coa_evaluator_enhanced.py`

**ì—­í• **: COA í‰ê°€ ë¡œì§

**í‰ê°€ ìš”ì†Œ** (íŒ”ë€í‹°ì–´ ëª¨ë“œ):
1. ì í•©ì„± (Appropriateness)
2. ì‹¤í–‰ ê°€ëŠ¥ì„± (Feasibility)
3. íš¨ê³¼ì„± (Effectiveness)
4. ìœ„í—˜ë„ (Risk)
5. ë¹„ìš© (Cost)
6. ì‹œê°„ (Time)

---

## 4. ë°ì´í„° íë¦„

### 4.1 COA ì¶”ì²œ í”„ë¡œì„¸ìŠ¤

```
1. ì‚¬ìš©ì ì…ë ¥
   â†“
2. ìƒí™© ë¶„ì„ (EnhancedDefenseCOAAgent._analyze_situation)
   â”œâ”€ ë‹¤ì°¨ì› ë¶„ì„
   â”œâ”€ ê´€ë ¨ ì—”í‹°í‹° íƒìƒ‰ (ì˜¨í†¨ë¡œì§€)
   â”œâ”€ RAG ê²€ìƒ‰
   â””â”€ LLM í˜‘ë ¥
   â†“
3. COA ì¶”ì²œ (EnhancedDefenseCOAAgent._recommend_by_type)
   â”œâ”€ í…œí”Œë¦¿ ê¸°ë°˜ ìƒì„±
   â”œâ”€ LLM í˜‘ë ¥ ìƒì„±
   â””â”€ ì˜¨í†¨ë¡œì§€ ê¸°ë°˜ ì¶”ë¡ 
   â†“
4. COA í‰ê°€ (COA Scorer)
   â”œâ”€ íŒ”ë€í‹°ì–´ ëª¨ë“œ ì ìˆ˜ ê³„ì‚°
   â””â”€ ë‹¤ì¤‘ ìš”ì†Œ ì¢…í•© í‰ê°€
   â†“
5. ê²°ê³¼ ë°˜í™˜ ë° ì‹œê°í™”
   â”œâ”€ Streamlit UI í‘œì‹œ
   â””â”€ COP ì§€ë„ ì‹œê°í™”
```

### 4.2 ì˜¨í†¨ë¡œì§€ ìƒì„± í”„ë¡œì„¸ìŠ¤

```
1. Excel íŒŒì¼ ë¡œë“œ (DataManager)
   â†“
2. RDF ë³€í™˜ (EnhancedOntologyManager)
   â”œâ”€ ì—”í‹°í‹° ì¶”ì¶œ
   â”œâ”€ ê´€ê³„ ë§¤í•‘
   â””â”€ ì‚¼ì¤‘í•­ ìƒì„±
   â†“
3. ì˜¨í†¨ë¡œì§€ ì €ì¥
   â””â”€ outputs/k_c4i_instances_owl.ttl
   â†“
4. ì‹œê°í™” (PyVis)
   â””â”€ ì§€ì‹ ê·¸ë˜í”„ í‘œì‹œ
```

### 4.3 RAG ì¸ë±ì‹± í”„ë¡œì„¸ìŠ¤

```
1. ë¬¸ì„œ ë¡œë“œ (knowledge/rag_docs/)
   â†“
2. ì„ë² ë”© ìƒì„± (RAGManager)
   â”œâ”€ sentence-transformers
   â””â”€ ë²¡í„° ë³€í™˜
   â†“
3. FAISS ì¸ë±ìŠ¤ êµ¬ì¶•
   â†“
4. ê²€ìƒ‰ ì¤€ë¹„ ì™„ë£Œ
```

---

## 5. ê¸°ìˆ  ìŠ¤íƒ

### 5.1 í”„ë¡ íŠ¸ì—”ë“œ

| ê¸°ìˆ  | ìš©ë„ | íŒŒì¼ ìœ„ì¹˜ |
|------|------|-----------|
| **Streamlit** | ì›¹ UI í”„ë ˆì„ì›Œí¬ | `ui/` |
| **MapLibre GL JS** | ì§€ë„ ë Œë”ë§ | `ui/static/lib/maplibre-gl.js` |
| **Milsymbol.js** | êµ°ì‚¬ ì‹¬ë³¼ í‘œì‹œ | `ui/static/lib/milsymbol.js` |
| **D3.js** | ê·¸ë˜í”„ ì‹œê°í™” | `lib/d3/` |
| **Vis.js** | ë„¤íŠ¸ì›Œí¬ ê·¸ë˜í”„ | `lib/vis-9.1.2/` |

### 5.2 ë°±ì—”ë“œ

| ê¸°ìˆ  | ìš©ë„ | íŒŒì¼ ìœ„ì¹˜ |
|------|------|-----------|
| **Python 3.12** | ë©”ì¸ ì–¸ì–´ | ì „ì²´ |
| **FastAPI** | ì§€ë„ ì„œë²„ | `tools/map_server_osm.py` |
| **Pandas** | ë°ì´í„° ì²˜ë¦¬ | `core_pipeline/data_manager.py` |
| **RDFLib** | ì˜¨í†¨ë¡œì§€ ì²˜ë¦¬ | `core_pipeline/ontology_manager_enhanced.py` |
| **FAISS** | ë²¡í„° ê²€ìƒ‰ | `core_pipeline/rag_manager.py` |
| **sentence-transformers** | ì„ë² ë”© ìƒì„± | `core_pipeline/rag_manager.py` |
| **OpenAI API** | LLM ì„œë¹„ìŠ¤ | `core_pipeline/llm_manager.py` |
| **HuggingFace Transformers** | ë¡œì»¬ LLM | `core_pipeline/llm_manager.py` |

### 5.3 ë°ì´í„° ì €ì¥

| í˜•ì‹ | ìš©ë„ | ìœ„ì¹˜ |
|------|------|------|
| **Excel** | ì›ì²œ ë°ì´í„° | `data_lake/` |
| **RDF/TTL** | ì˜¨í†¨ë¡œì§€ | `outputs/k_c4i_instances_owl.ttl` |
| **MBTiles** | ì§€ë„ íƒ€ì¼ | `data/maps/south-korea.mbtiles` |
| **GeoJSON** | ì§€ë„ ë°ì´í„° | `data/maps/*.geojson` |
| **FAISS** | ë²¡í„° ì¸ë±ìŠ¤ | `knowledge/embeddings/` |

---

## 6. íŒŒì¼ êµ¬ì¡°

### 6.1 ì£¼ìš” ë””ë ‰í† ë¦¬

```
COA_Agent_Platform/
â”œâ”€â”€ agents/                    # AI ì—ì´ì „íŠ¸
â”‚   â”œâ”€â”€ defense_coa_agent/     # COA ì¶”ì²œ Agent
â”‚   â”œâ”€â”€ ontology_agent/        # ì˜¨í†¨ë¡œì§€ Agent
â”‚   â””â”€â”€ ccir_recommendation_agent/  # CCIR ì¶”ì²œ Agent
â”‚
â”œâ”€â”€ core_pipeline/             # í•µì‹¬ íŒŒì´í”„ë¼ì¸
â”‚   â”œâ”€â”€ orchestrator.py        # ì˜¤ì¼€ìŠ¤íŠ¸ë ˆì´í„°
â”‚   â”œâ”€â”€ data_manager.py        # ë°ì´í„° ê´€ë¦¬
â”‚   â”œâ”€â”€ ontology_manager_enhanced.py  # ì˜¨í†¨ë¡œì§€ ê´€ë¦¬
â”‚   â”œâ”€â”€ rag_manager.py         # RAG ê´€ë¦¬
â”‚   â”œâ”€â”€ llm_manager.py         # LLM ê´€ë¦¬
â”‚   â”œâ”€â”€ coa_service.py         # COA ì„œë¹„ìŠ¤
â”‚   â”œâ”€â”€ coa_engine/            # COA ì—”ì§„
â”‚   â””â”€â”€ data_loaders/          # ë°ì´í„° ë¡œë”
â”‚
â”œâ”€â”€ ui/                        # ì‚¬ìš©ì ì¸í„°í˜ì´ìŠ¤
â”‚   â”œâ”€â”€ dashboard.py           # ë©”ì¸ ëŒ€ì‹œë³´ë“œ
â”‚   â”œâ”€â”€ coa_agent_app.py       # COA Agent ì•±
â”‚   â”œâ”€â”€ views/                  # í˜ì´ì§€ ë·°
â”‚   â”‚   â”œâ”€â”€ agent_execution.py # Agent ì‹¤í–‰ í˜ì´ì§€
â”‚   â”‚   â”œâ”€â”€ ontology_generation.py  # ì˜¨í†¨ë¡œì§€ ìƒì„±
â”‚   â”‚   â””â”€â”€ knowledge_graph.py # ì§€ì‹ ê·¸ë˜í”„
â”‚   â””â”€â”€ components/            # UI ì»´í¬ë„ŒíŠ¸
â”‚       â”œâ”€â”€ ontology_aware_cop.py  # COP ì‹œê°í™”
â”‚       â”œâ”€â”€ situation_input.py    # ìƒí™© ì…ë ¥
â”‚       â””â”€â”€ chain_visualizer.py   # ì²´ì¸ ì‹œê°í™”
â”‚
â”œâ”€â”€ tools/                     # ë„êµ¬
â”‚   â”œâ”€â”€ map_server_osm.py      # ì§€ë„ ì„œë²„
â”‚   â””â”€â”€ setup_offline_assets.py  # ì˜¤í”„ë¼ì¸ ìì‚° ì„¤ì •
â”‚
â”œâ”€â”€ data_lake/                 # ì›ì²œ ë°ì´í„°
â”‚   â”œâ”€â”€ COA_Library.xlsx
â”‚   â”œâ”€â”€ ìœ„í˜‘ìƒí™©.xlsx
â”‚   â””â”€â”€ ...
â”‚
â”œâ”€â”€ data/                      # ì²˜ë¦¬ëœ ë°ì´í„°
â”‚   â””â”€â”€ maps/                  # ì§€ë„ ë°ì´í„°
â”‚       â”œâ”€â”€ south-korea.mbtiles
â”‚       â””â”€â”€ *.geojson
â”‚
â”œâ”€â”€ knowledge/                 # ì§€ì‹ ë² ì´ìŠ¤
â”‚   â”œâ”€â”€ ontology/              # ì˜¨í†¨ë¡œì§€ íŒŒì¼
â”‚   â”œâ”€â”€ rag_docs/              # RAG ë¬¸ì„œ
â”‚   â””â”€â”€ embeddings/            # ì„ë² ë”© íŒŒì¼
â”‚
â”œâ”€â”€ config/                    # ì„¤ì • íŒŒì¼
â”‚   â”œâ”€â”€ global.yaml            # ì „ì—­ ì„¤ì •
â”‚   â””â”€â”€ agent_registry.yaml    # Agent ë“±ë¡
â”‚
â”œâ”€â”€ outputs/                   # ì¶œë ¥ íŒŒì¼
â”‚   â””â”€â”€ k_c4i_instances_owl.ttl  # ì˜¨í†¨ë¡œì§€ ì¶œë ¥
â”‚
â”œâ”€â”€ scripts/                   # ìœ í‹¸ë¦¬í‹° ìŠ¤í¬ë¦½íŠ¸
â”‚   â”œâ”€â”€ download_offline_assets.py
â”‚   â””â”€â”€ ...
â”‚
â”œâ”€â”€ tests/                     # í…ŒìŠ¤íŠ¸
â”‚   â””â”€â”€ test_*.py
â”‚
â”œâ”€â”€ 99.Dev_guide/              # ê°œë°œ ê°€ì´ë“œ
â”‚   â””â”€â”€ *.md
â”‚
â””â”€â”€ run_streamlit.py           # ë©”ì¸ ì‹¤í–‰ ìŠ¤í¬ë¦½íŠ¸
```

### 6.2 í•µì‹¬ íŒŒì¼ ìš”ì•½

| íŒŒì¼ | ì—­í•  | ì¤‘ìš”ë„ |
|------|------|--------|
| `run_streamlit.py` | ë©”ì¸ ì§„ì…ì  | â­â­â­â­â­ |
| `ui/dashboard.py` | í†µí•© ëŒ€ì‹œë³´ë“œ | â­â­â­â­â­ |
| `ui/views/agent_execution.py` | Agent ì‹¤í–‰ í˜ì´ì§€ | â­â­â­â­â­ |
| `core_pipeline/orchestrator.py` | íŒŒì´í”„ë¼ì¸ ì¡°ìœ¨ | â­â­â­â­â­ |
| `agents/defense_coa_agent/logic_defense_enhanced.py` | COA ì¶”ì²œ Agent | â­â­â­â­â­ |
| `core_pipeline/ontology_manager_enhanced.py` | ì˜¨í†¨ë¡œì§€ ê´€ë¦¬ | â­â­â­â­ |
| `core_pipeline/rag_manager.py` | RAG ê´€ë¦¬ | â­â­â­â­ |
| `core_pipeline/llm_manager.py` | LLM ê´€ë¦¬ | â­â­â­â­ |
| `ui/components/ontology_aware_cop.py` | COP ì‹œê°í™” | â­â­â­â­ |
| `tools/map_server_osm.py` | ì§€ë„ ì„œë²„ | â­â­â­ |

---

## 7. ì‹¤í–‰ ë°©ë²•

### 7.1 ê¸°ë³¸ ì‹¤í–‰

```powershell
# í”„ë¡œì íŠ¸ ë£¨íŠ¸ì—ì„œ
python run_streamlit.py
```

**ìë™ ì‹¤í–‰ë˜ëŠ” ê²ƒë“¤**:
1. ì§€ë„ ì„œë²„ ì‹œì‘ (í¬íŠ¸ 8080) - `tools/map_server_osm.py`
2. Streamlit ì•± ì‹œì‘ (í¬íŠ¸ 8501) - `ui/dashboard.py`

### 7.2 ì˜µì…˜

```powershell
# COA Agent ë°ëª¨ ì•± ì‹¤í–‰
python run_streamlit.py --app coa

# í¬íŠ¸ ì§€ì •
python run_streamlit.py --port 8502

# ë¡œê·¸ íŒŒì¼ ê¸°ë¡ í™œì„±í™”
python run_streamlit.py --log-to-file
```

### 7.3 ìˆ˜ë™ ì‹¤í–‰

```powershell
# ì§€ë„ ì„œë²„ë§Œ ì‹¤í–‰
python tools/map_server_osm.py

# Streamlit ì•±ë§Œ ì‹¤í–‰
streamlit run ui/dashboard.py
```

---

## 8. ì£¼ìš” ê¸°ëŠ¥ ìš”ì•½

### 8.1 ë°ì´í„° ê´€ë¦¬

- âœ… Excel íŒŒì¼ ìë™ ë¡œë“œ (`data_lake/`)
- âœ… 8ê°œ ì£¼ìš” í…Œì´ë¸” ì§€ì›
- âœ… ë°ì´í„° ê²€ì¦ ë° í’ˆì§ˆ ì²´í¬
- âœ… ë°ì´í„° ë³€ê²½ ê°ì§€ (DataWatcher)

### 8.2 ì˜¨í†¨ë¡œì§€ ìƒì„±

- âœ… Excel â†’ RDF ê·¸ë˜í”„ ìë™ ë³€í™˜
- âœ… ê´€ê³„ ë§¤í•‘ ê¸°ë°˜ ìë™ ì—°ê²°
- âœ… PyVis ì¸í„°ë™í‹°ë¸Œ ì‹œê°í™”
- âœ… SPARQL ì¿¼ë¦¬ ì§€ì›
- âœ… ì¶”ë¡ ëœ ê·¸ë˜í”„ ìƒì„±

### 8.3 ë°©ì±… ì¶”ì²œ (COA Recommendation)

- âœ… 7ê°€ì§€ ë°©ì±… íƒ€ì… ì§€ì›
- âœ… 4ê°€ì§€ ì…ë ¥ ë°©ì‹ ì§€ì›
- âœ… í•˜ì´ë¸Œë¦¬ë“œ ì¶”ë¡  (ì˜¨í†¨ë¡œì§€ + RAG + LLM)
- âœ… íŒ”ë€í‹°ì–´ ëª¨ë“œ (6ê°€ì§€ ìš”ì†Œ ì¢…í•© í‰ê°€)
- âœ… ì¶”ë¡  ê²½ë¡œ ì‹œê°í™”

### 8.4 RAG (ê²€ìƒ‰ ì¦ê°• ìƒì„±)

- âœ… ë¬¸ì„œ ì„ë² ë”© ìƒì„±
- âœ… FAISS ì¸ë±ìŠ¤ êµ¬ì¶•
- âœ… ìœ ì‚¬ ë¬¸ì„œ ê²€ìƒ‰
- âœ… LLM ì»¨í…ìŠ¤íŠ¸ ì œê³µ

### 8.5 ì „ìˆ ìƒí™©ë„ (COP)

- âœ… MapLibre GL JS ê¸°ë°˜ ì§€ë„ í‘œì‹œ
- âœ… MBTiles ë²¡í„° íƒ€ì¼ ë Œë”ë§
- âœ… ìœ„í˜‘, ë¶€ëŒ€, COA ê²½ë¡œ ì‹œê°í™”
- âœ… Milsymbol.js êµ°ì‚¬ ì‹¬ë³¼ í‘œì‹œ
- âœ… ì¸í„°ë™í‹°ë¸Œ ê¸°ëŠ¥

### 8.6 LLM í†µí•©

- âœ… OpenAI API ì§€ì›
- âœ… ë¡œì»¬ ëª¨ë¸ ì§€ì› (HuggingFace)
- âœ… ì»¨í…ìŠ¤íŠ¸ ê´€ë¦¬
- âœ… í”„ë¡¬í”„íŠ¸ ìµœì í™”

---

## 9. í–¥í›„ ê°œì„  ë°©í–¥

### 9.1 ì„±ëŠ¥ ìµœì í™”

- [ ] íƒ€ì¼ ë¡œë“œ ì„±ëŠ¥ ê°œì„ 
- [ ] ì˜¨í†¨ë¡œì§€ ì¿¼ë¦¬ ìµœì í™”
- [ ] RAG ê²€ìƒ‰ ì†ë„ í–¥ìƒ
- [ ] ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰ ìµœì í™”

### 9.2 ê¸°ëŠ¥ í™•ì¥

- [ ] ì¶”ê°€ Agent íƒ€ì… ì§€ì›
- [ ] ì‹¤ì‹œê°„ í˜‘ì—… ê¸°ëŠ¥
- [ ] íˆìŠ¤í† ë¦¬ ê´€ë¦¬ ê°•í™”
- [ ] ë¦¬í¬íŠ¸ ìƒì„± ê¸°ëŠ¥

### 9.3 ì‚¬ìš©ì ê²½í—˜

- [ ] UI/UX ê°œì„ 
- [ ] ì—ëŸ¬ ì²˜ë¦¬ ê°•í™”
- [ ] ì‚¬ìš©ì ê°€ì´ë“œ ê°œì„ 
- [ ] ë‹¤êµ­ì–´ ì§€ì›

---

## 10. ì°¸ê³  ë¬¸ì„œ

### 10.1 ê°œë°œ ê°€ì´ë“œ

- `99.Dev_guide/COP_í•­ìƒ_í‘œì‹œ_ê°œì„ _ì™„ë£Œ.md` - COP ì‹œê°í™” ê°œì„ 
- `99.Dev_guide/MapLibre_GL_JS_ì „í™˜_ì™„ë£Œ.md` - ì§€ë„ ë¼ì´ë¸ŒëŸ¬ë¦¬ ì „í™˜
- `99.Dev_guide/React_ì œê±°_ìˆœìˆ˜_JS_ì „í™˜_ì™„ë£Œ.md` - React ì œê±°
- `99.Dev_guide/ì§€ë„_ì„œë²„_ìë™_ì‹¤í–‰_ê°€ì´ë“œ.md` - ì§€ë„ ì„œë²„ ê°€ì´ë“œ

### 10.2 ì‹œìŠ¤í…œ ë¬¸ì„œ

- `docs/ì‹œìŠ¤í…œ_ì•„í‚¤í…ì²˜.md` - ì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜ ìƒì„¸
- `docs/ë°©ì±…ì¶”ì²œ_ì‹œìŠ¤í…œ.md` - ë°©ì±… ì¶”ì²œ ì‹œìŠ¤í…œ ìƒì„¸
- `docs/ì˜¨í†¨ë¡œì§€_ì„¤ê³„.md` - ì˜¨í†¨ë¡œì§€ ì„¤ê³„
- `README_ì¢…í•©ê°€ì´ë“œ.md` - ì¢…í•© ê°€ì´ë“œ

### 10.3 ì„¤ì¹˜ ê°€ì´ë“œ

- `INSTALLATION_GUIDE.md` - ì„¤ì¹˜ ê°€ì´ë“œ

---

## 11. ê²°ë¡ 

COA Agent Platformì€ ì˜¨í†¨ë¡œì§€ ê¸°ë°˜ ì§€ì‹ í‘œí˜„ê³¼ AI ì—ì´ì „íŠ¸ ê¸°ìˆ ì„ í™œìš©í•œ êµ°ì‚¬ ì˜ì‚¬ê²°ì • ì§€ì› ì‹œìŠ¤í…œì˜ í”„ë¡œí† íƒ€ì…ì…ë‹ˆë‹¤. 

**í•µì‹¬ ê°•ì **:
- âœ… ëª…í™•í•œ ë ˆì´ì–´ ë¶„ë¦¬ ì•„í‚¤í…ì²˜
- âœ… í™•ì¥ ê°€ëŠ¥í•œ Agent ì‹œìŠ¤í…œ
- âœ… í•˜ì´ë¸Œë¦¬ë“œ ì¶”ë¡  (ì˜¨í†¨ë¡œì§€ + RAG + LLM)
- âœ… ì§ê´€ì ì¸ UI/UX
- âœ… ì „ìˆ ìƒí™©ë„ ì‹œê°í™”

**ì£¼ìš” ì„±ê³¼**:
- âœ… 7ê°€ì§€ COA íƒ€ì… ì§€ì›
- âœ… 4ê°€ì§€ ì…ë ¥ ë°©ì‹ ì§€ì›
- âœ… íŒ”ë€í‹°ì–´ ëª¨ë“œ êµ¬í˜„
- âœ… MapLibre GL JS ê¸°ë°˜ COP ì‹œê°í™”
- âœ… ì˜¤í”„ë¼ì¸ ì§€ë„ ì„œë²„ êµ¬ì¶•

ì´ ë¬¸ì„œëŠ” í”„ë¡œì íŠ¸ ì „ì²´ ì½”ë“œë² ì´ìŠ¤ë¥¼ ë¶„ì„í•˜ì—¬ ì‘ì„±ë˜ì—ˆìœ¼ë©°, ì‹œìŠ¤í…œ ì´í•´ ë° ê°œë°œ ì°¸ê³  ìë£Œë¡œ í™œìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

---

**ì‘ì„±ì**: AI Assistant  
**ìµœì¢… ìˆ˜ì •**: 2025-12-22  
**ë²„ì „**: 1.0

# COA Agent Platform - ì „ì²´ ì‹œìŠ¤í…œ ì½”ë“œ ë¶„ì„ ìš”ì•½

**ì‘ì„±ì¼**: 2025-12-22  
**ë²„ì „**: 1.0  
**ëª©ì **: í”„ë¡œì íŠ¸ ì „ì²´ ì½”ë“œë² ì´ìŠ¤ ë¶„ì„ ë° ìš”ì•½

---

## ğŸ“‹ ëª©ì°¨

1. [ì‹œìŠ¤í…œ ê°œìš”](#1-ì‹œìŠ¤í…œ-ê°œìš”)
2. [ì „ì²´ ì•„í‚¤í…ì²˜](#2-ì „ì²´-ì•„í‚¤í…ì²˜)
3. [ì£¼ìš” ì»´í¬ë„ŒíŠ¸ ìƒì„¸](#3-ì£¼ìš”-ì»´í¬ë„ŒíŠ¸-ìƒì„¸)
4. [ë°ì´í„° íë¦„](#4-ë°ì´í„°-íë¦„)
5. [ê¸°ìˆ  ìŠ¤íƒ](#5-ê¸°ìˆ -ìŠ¤íƒ)
6. [íŒŒì¼ êµ¬ì¡°](#6-íŒŒì¼-êµ¬ì¡°)
7. [ì‹¤í–‰ ë°©ë²•](#7-ì‹¤í–‰-ë°©ë²•)
8. [ì£¼ìš” ê¸°ëŠ¥ ìš”ì•½](#8-ì£¼ìš”-ê¸°ëŠ¥-ìš”ì•½)

---

## 1. ì‹œìŠ¤í…œ ê°œìš”

### 1.1 ì‹œìŠ¤í…œ ëª©ì 

**COA Agent Platform**ì€ ì˜¨í†¨ë¡œì§€ ê¸°ë°˜ ì§€ì‹ í‘œí˜„ê³¼ AI ì—ì´ì „íŠ¸ ê¸°ìˆ ì„ í™œìš©í•œ **êµ°ì‚¬ ì˜ì‚¬ê²°ì • ì§€ì› ì‹œìŠ¤í…œ**ì˜ í”„ë¡œí† íƒ€ì…ì…ë‹ˆë‹¤.

**í•µì‹¬ ëª©í‘œ**:
- ì˜¨í†¨ë¡œì§€ ê¸°ë°˜ ì§€ì‹ í‘œí˜„ í•™ìŠµ ë° ê²€ì¦
- AI ì—ì´ì „íŠ¸ë¥¼ í†µí•œ ë°©ì±…(COA) ì¶”ì²œ ë¡œì§ ê²€ì¦
- ë³¸ê²© ì‹œìŠ¤í…œ ê°œë°œ ì „ ê°œë… ê²€ì¦ (PoC)
- ê´€ë ¨ ì¸ë ¥ì˜ ì´í•´ë„ í–¥ìƒ

### 1.2 ì‹œìŠ¤í…œ íŠ¹ì§•

| íŠ¹ì§• | ì„¤ëª… |
|------|------|
| **ë°ì´í„° ê´€ë¦¬** | Excel/Access ê¸°ë°˜ PC í™˜ê²½, `data_lake/` ë””ë ‰í† ë¦¬ |
| **ì˜¨í†¨ë¡œì§€** | RDF ê¸°ë°˜ ìë™ ìƒì„± ë° ì‹œê°í™” (EnhancedOntologyManager) |
| **RAG** | ì˜ë¯¸ ê¸°ë°˜ ë¬¸ì„œ ê²€ìƒ‰ (FAISS ë²¡í„° ì¸ë±ìŠ¤) |
| **AI ì—ì´ì „íŠ¸** | 7ê°€ì§€ COA íƒ€ì… ì§€ì› (ë°©ì–´/ê³µê²©/ë°˜ê²©/ì„ ì œ/ì–µì œ/ê¸°ë™/ì •ë³´ì‘ì „) |
| **LLM í†µí•©** | OpenAI API, ë¡œì»¬ ëª¨ë¸ ì§€ì› (LLMManager) |
| **UI** | Streamlit ê¸°ë°˜ ëŒ€í™”í˜• ì¸í„°í˜ì´ìŠ¤ |
| **ì§€ë„ ì‹œê°í™”** | MapLibre GL JS ê¸°ë°˜ ì „ìˆ ìƒí™©ë„(COP) í‘œì‹œ |

### 1.3 íŒ”ë€í‹°ì–´ ë²¤ì¹˜ë§ˆí‚¹

ë³¸ ì‹œìŠ¤í…œì€ Palantirì˜ í•µì‹¬ ê°œë…ì„ ì°¸ê³ í–ˆìŠµë‹ˆë‹¤:
- **Foundry**: ë°ì´í„° ì˜¨í†¨ë¡œì§€ ê¸°ë°˜ í†µí•©
- **AIP**: AI ì—ì´ì „íŠ¸ í˜‘ë ¥ ë° ì»¨í…ìŠ¤íŠ¸ ì—”ì§„
- **Gotham**: êµ­ë°© íŠ¹í™” ê¸°ëŠ¥

**ì°¨ë³„ì **: PC ë‹¨ë… ì‹¤í–‰, êµìœ¡/í•™ìŠµ ì¤‘ì‹¬, ë‹¨ìˆœí™”ëœ êµ¬ì¡°

---

## 2. ì „ì²´ ì•„í‚¤í…ì²˜

### 2.1 ë ˆì´ì–´ êµ¬ì¡°

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Command Layer (ì§€íœ˜í†µì œ) - Streamlit UI                 â”‚
â”‚  - ìƒí™© ì…ë ¥ (Dashboard)                                  â”‚
â”‚  - ë°©ì±… ê²°ê³¼ ì‹œê°í™”                                       â”‚
â”‚  - ì „ëµ ì²´ì¸ ì‹œê°í™”                                       â”‚
â”‚  - ì „ìˆ ìƒí™©ë„(COP) í‘œì‹œ                                  â”‚
â”‚  - ì‚¬ìš©ì í”¼ë“œë°±                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                        â†“ â†‘
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Agent Layer (ì§€ëŠ¥í˜• ì—ì´ì „íŠ¸)                            â”‚
â”‚  - COA ì¶”ì²œ Agent (EnhancedDefenseCOAAgent)             â”‚
â”‚    â”œâ”€ ìƒí™© ë¶„ì„ (ë‚´ë¶€ ë©”ì„œë“œ)                              â”‚
â”‚    â”œâ”€ COA ì¶”ì²œ (ë‚´ë¶€ ë©”ì„œë“œ)                              â”‚
â”‚    â””â”€ LLM í˜‘ë ¥                                           â”‚
â”‚  - LLM Manager                                           â”‚
â”‚  - ì ìˆ˜ ê³„ì‚°ê¸° (COA Scorer)                              â”‚
â”‚  - ì˜¨í†¨ë¡œì§€ ì¶”ë¡ ê¸° (SPARQL)                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                        â†“ â†‘
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Orchestration Layer (íŒŒì´í”„ë¼ì¸ ì¡°ìœ¨)                     â”‚
â”‚  - Orchestrator                                          â”‚
â”‚  - CorePipeline                                          â”‚
â”‚    â”œâ”€ DataManager                                        â”‚
â”‚    â”œâ”€ EnhancedOntologyManager                            â”‚
â”‚    â”œâ”€ RAGManager                                         â”‚
â”‚    â”œâ”€ LLMManager                                         â”‚
â”‚    â”œâ”€ ReasoningEngine                                    â”‚
â”‚    â””â”€ RelationshipChain                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                        â†“ â†‘
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Data Layer (ì›ì²œ ë°ì´í„° ê´€ë¦¬)                            â”‚
â”‚  - Excel íŒŒì¼ (data_lake/)                               â”‚
â”‚  - RDF ê·¸ë˜í”„ (ì˜¨í†¨ë¡œì§€)                                  â”‚
â”‚  - FAISS ì¸ë±ìŠ¤ (RAG)                                    â”‚
â”‚  - MBTiles (ì§€ë„ ë°ì´í„°)                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 2.2 í•µì‹¬ ì„¤ê³„ ì›ì¹™

- **ë ˆì´ì–´ ë¶„ë¦¬**: Data, Orchestration, Agent, Command ë ˆì´ì–´ë¡œ ëª…í™•íˆ êµ¬ë¶„
- **ë‹¨ì¼ ì±…ì„**: ê° ì»´í¬ë„ŒíŠ¸ëŠ” ëª…í™•í•œ ì—­í• ê³¼ ì±…ì„ì„ ê°€ì§
- **í™•ì¥ ê°€ëŠ¥**: ìƒˆë¡œìš´ Agentë‚˜ ê¸°ëŠ¥ ì¶”ê°€ê°€ ìš©ì´í•œ êµ¬ì¡°
- **íˆ¬ëª…ì„±**: ì¶”ë¡  ê³¼ì •ê³¼ ê·¼ê±°ë¥¼ ì‹œê°ì ìœ¼ë¡œ ì œì‹œ

---

## 3. ì£¼ìš” ì»´í¬ë„ŒíŠ¸ ìƒì„¸

### 3.1 Command Layer (UI)

#### 3.1.1 Streamlit ì•±

**íŒŒì¼**: `ui/dashboard.py`, `ui/coa_agent_app.py`

**ì£¼ìš” í˜ì´ì§€**:
- **Dashboard** (`ui/dashboard.py`): í†µí•© ëŒ€ì‹œë³´ë“œ
- **Agent ì‹¤í–‰** (`ui/views/agent_execution.py`): Agent ì„ íƒ, ìƒí™© ì…ë ¥, ì‹¤í–‰, ê²°ê³¼ í™•ì¸
- **ì˜¨í†¨ë¡œì§€ ìƒì„±** (`ui/views/ontology_generation.py`): Excel â†’ RDF ë³€í™˜
- **ì§€ì‹ ê·¸ë˜í”„** (`ui/views/knowledge_graph.py`): ì˜¨í†¨ë¡œì§€ ì‹œê°í™”
- **RAG ì¸ë±ì‹±** (`ui/views/rag_indexing.py`): ë¬¸ì„œ ì„ë² ë”© ìƒì„±
- **ë°ì´í„° ê´€ë¦¬** (`ui/views/data_management.py`): Excel ë°ì´í„° ê´€ë¦¬

#### 3.1.2 COP ì‹œê°í™” ì»´í¬ë„ŒíŠ¸

**íŒŒì¼**: `ui/components/ontology_aware_cop.py`

**ê¸°ëŠ¥**:
- MapLibre GL JS ê¸°ë°˜ ì „ìˆ ìƒí™©ë„ í‘œì‹œ
- MBTiles ë²¡í„° íƒ€ì¼ ë Œë”ë§
- ìœ„í˜‘(Threat), ë¶€ëŒ€(Unit), COA ê²½ë¡œ ì‹œê°í™”
- Milsymbol.jsë¥¼ í†µí•œ êµ°ì‚¬ ì‹¬ë³¼ í‘œì‹œ
- ì¸í„°ë™í‹°ë¸Œ ê¸°ëŠ¥ (í´ë¦­, íŒì—…, í˜¸ë²„)

**ì§€ë„ ì„œë²„**: `tools/map_server_osm.py` (í¬íŠ¸ 8080)
- MBTiles ë²¡í„° íƒ€ì¼ ì„œë¹™
- GeoJSON íŒŒì¼ ì„œë¹™
- ì •ì  ë¼ì´ë¸ŒëŸ¬ë¦¬ ì„œë¹™

### 3.2 Agent Layer

#### 3.2.1 EnhancedDefenseCOAAgent

**íŒŒì¼**: `agents/defense_coa_agent/logic_defense_enhanced.py`

**ì—­í• **: ìƒí™© ë¶„ì„ ë° COA ì¶”ì²œ (í†µí•© Agent)

**ì£¼ìš” ë©”ì„œë“œ**:
- `execute_reasoning()`: ì „ì²´ ì¶”ë¡  í”„ë¡œì„¸ìŠ¤ ì‹¤í–‰
- `_analyze_situation()`: ìƒí™© ë¶„ì„
  - ë‹¤ì°¨ì› ë¶„ì„
  - ê´€ë ¨ ì—”í‹°í‹° íƒìƒ‰
  - RAG ê²€ìƒ‰
  - LLM í˜‘ë ¥
- `_recommend_by_type()`: íƒ€ì…ë³„ ë°©ì±… ì¶”ì²œ
- `_score_with_palantir_mode()`: íŒ”ë€í‹°ì–´ ëª¨ë“œ ì ìˆ˜ ê³„ì‚°

**ì§€ì›í•˜ëŠ” ë°©ì±… íƒ€ì…** (7ê°€ì§€):
```python
self.supported_coa_types = [
    "defense",        # ë°©ì–´
    "offensive",      # ê³µê²©
    "counter_attack", # ë°˜ê²©
    "preemptive",     # ì„ ì œ
    "deterrence",     # ì–µì œ
    "maneuver",       # ê¸°ë™
    "information_ops" # ì •ë³´ì‘ì „
]
```

**ì…ë ¥ ë°©ì‹** (4ê°€ì§€):
1. ì‹¤ì œ ë°ì´í„° (Excel íŒŒì¼)
2. SITREP (ìƒí™© ë³´ê³ ì„œ)
3. ìˆ˜ë™ ì…ë ¥
4. ë°ëª¨ ì‹œë‚˜ë¦¬ì˜¤

### 3.3 Orchestration Layer

#### 3.3.1 Orchestrator

**íŒŒì¼**: `core_pipeline/orchestrator.py`

**ì—­í• **: ì „ì²´ íŒŒì´í”„ë¼ì¸ ì¡°ìœ¨ ë° Agent ê´€ë¦¬

**ì£¼ìš” ê¸°ëŠ¥**:
- Agent í´ë˜ìŠ¤ ë¡œë“œ ë° ë“±ë¡
- CorePipeline ì´ˆê¸°í™”
- LLM/RAG/ì˜¨í†¨ë¡œì§€ ì„œë¹„ìŠ¤ ì—°ê²°

#### 3.3.2 CorePipeline

**íŒŒì¼**: `core_pipeline/orchestrator.py` (CorePipeline í´ë˜ìŠ¤)

**ì£¼ìš” ì»´í¬ë„ŒíŠ¸**:
- `data_manager`: DataManager ì¸ìŠ¤í„´ìŠ¤
- `ontology_manager`: EnhancedOntologyManager ì¸ìŠ¤í„´ìŠ¤
- `rag_manager`: RAGManager ì¸ìŠ¤í„´ìŠ¤
- `llm_manager`: LLMManager ì¸ìŠ¤í„´ìŠ¤
- `reasoning_engine`: ReasoningEngine ì¸ìŠ¤í„´ìŠ¤
- `relationship_chain`: RelationshipChain ì¸ìŠ¤í„´ìŠ¤

### 3.4 Data Layer

#### 3.4.1 DataManager

**íŒŒì¼**: `core_pipeline/data_manager.py`

**ì—­í• **: Excel íŒŒì¼ ë¡œë“œ ë° ë°ì´í„° ê´€ë¦¬

**ì£¼ìš” ë©”ì„œë“œ**:
- `load_all()`: ëª¨ë“  Excel íŒŒì¼ ë¡œë“œ
- `load_table()`: íŠ¹ì • í…Œì´ë¸” ë¡œë“œ
- `get_loader()`: íŠ¹ì • ë¡œë” ê°€ì ¸ì˜¤ê¸°

**ë°ì´í„° ì†ŒìŠ¤**: `data_lake/` ë””ë ‰í† ë¦¬
- COA_Library.xlsx
- ìœ„í˜‘ìƒí™©.xlsx
- ì•„êµ°ë¶€ëŒ€í˜„í™©.xlsx
- ì êµ°ë¶€ëŒ€í˜„í™©.xlsx
- ì„ë¬´ì •ë³´.xlsx
- ì „ì¥ì¶•ì„ .xlsx
- ì œì•½ì¡°ê±´.xlsx
- ì§€í˜•ì…€.xlsx
- í‰ê°€ê¸°ì¤€_ê°€ì¤‘ì¹˜.xlsx

#### 3.4.2 EnhancedOntologyManager

**íŒŒì¼**: `core_pipeline/ontology_manager_enhanced.py`

**ì—­í• **: RDF ê·¸ë˜í”„ êµ¬ì¶• ë° SPARQL ì¿¼ë¦¬

**ì£¼ìš” ê¸°ëŠ¥**:
- Excel ë°ì´í„°ë¥¼ RDF ì‚¼ì¤‘í•­ìœ¼ë¡œ ë³€í™˜
- SPARQL ì¿¼ë¦¬ ì‹¤í–‰
- ì¶”ë¡ ëœ ê·¸ë˜í”„ ìƒì„±
- ì˜¨í†¨ë¡œì§€ ì‹œê°í™”

**ì¶œë ¥**: `outputs/k_c4i_instances_owl.ttl`

#### 3.4.3 RAGManager

**íŒŒì¼**: `core_pipeline/rag_manager.py`

**ì—­í• **: ë²¡í„° ê²€ìƒ‰ ê¸°ë°˜ ë¬¸ì„œ ê²€ìƒ‰

**ì£¼ìš” ê¸°ëŠ¥**:
- ë¬¸ì„œ ì„ë² ë”© ìƒì„± (sentence-transformers)
- FAISS ì¸ë±ìŠ¤ êµ¬ì¶•
- ìœ ì‚¬ ë¬¸ì„œ ê²€ìƒ‰

**ë°ì´í„° ì†ŒìŠ¤**: `knowledge/rag_docs/` ë””ë ‰í† ë¦¬

#### 3.4.4 LLMManager

**íŒŒì¼**: `core_pipeline/llm_manager.py`

**ì—­í• **: LLM ì„œë¹„ìŠ¤ ê´€ë¦¬

**ì§€ì› ëª¨ë¸**:
- OpenAI API (GPT-4, GPT-3.5)
- ë¡œì»¬ ëª¨ë¸ (HuggingFace Transformers)

### 3.5 COA Engine

#### 3.5.1 COAService

**íŒŒì¼**: `core_pipeline/coa_service.py`

**ì—­í• **: COA Agent ë°ëª¨ë¥¼ ìœ„í•œ í†µí•© ì„œë¹„ìŠ¤ ë ˆì´ì–´

**ì£¼ìš” ë©”ì„œë“œ**:
- `generate_coas_unified()`: í†µí•© COA ìƒì„±
- `evaluate_coas()`: COA í‰ê°€
- `parse_sitrep()`: SITREP íŒŒì‹±

#### 3.5.2 COA Generator

**íŒŒì¼**: `core_pipeline/coa_engine/coa_generator.py`, `coa_generator_enhanced.py`

**ì—­í• **: COA ìƒì„± ë¡œì§

**ê¸°ëŠ¥**:
- í…œí”Œë¦¿ ê¸°ë°˜ COA ìƒì„±
- LLM í˜‘ë ¥ COA ìƒì„± (Enhanced ë²„ì „)

#### 3.5.3 COA Evaluator

**íŒŒì¼**: `core_pipeline/coa_engine/coa_evaluator.py`, `coa_evaluator_enhanced.py`

**ì—­í• **: COA í‰ê°€ ë¡œì§

**í‰ê°€ ìš”ì†Œ** (íŒ”ë€í‹°ì–´ ëª¨ë“œ):
1. ì í•©ì„± (Appropriateness)
2. ì‹¤í–‰ ê°€ëŠ¥ì„± (Feasibility)
3. íš¨ê³¼ì„± (Effectiveness)
4. ìœ„í—˜ë„ (Risk)
5. ë¹„ìš© (Cost)
6. ì‹œê°„ (Time)

---

## 4. ë°ì´í„° íë¦„

### 4.1 COA ì¶”ì²œ í”„ë¡œì„¸ìŠ¤

```
1. ì‚¬ìš©ì ì…ë ¥
   â†“
2. ìƒí™© ë¶„ì„ (EnhancedDefenseCOAAgent._analyze_situation)
   â”œâ”€ ë‹¤ì°¨ì› ë¶„ì„
   â”œâ”€ ê´€ë ¨ ì—”í‹°í‹° íƒìƒ‰ (ì˜¨í†¨ë¡œì§€)
   â”œâ”€ RAG ê²€ìƒ‰
   â””â”€ LLM í˜‘ë ¥
   â†“
3. COA ì¶”ì²œ (EnhancedDefenseCOAAgent._recommend_by_type)
   â”œâ”€ í…œí”Œë¦¿ ê¸°ë°˜ ìƒì„±
   â”œâ”€ LLM í˜‘ë ¥ ìƒì„±
   â””â”€ ì˜¨í†¨ë¡œì§€ ê¸°ë°˜ ì¶”ë¡ 
   â†“
4. COA í‰ê°€ (COA Scorer)
   â”œâ”€ íŒ”ë€í‹°ì–´ ëª¨ë“œ ì ìˆ˜ ê³„ì‚°
   â””â”€ ë‹¤ì¤‘ ìš”ì†Œ ì¢…í•© í‰ê°€
   â†“
5. ê²°ê³¼ ë°˜í™˜ ë° ì‹œê°í™”
   â”œâ”€ Streamlit UI í‘œì‹œ
   â””â”€ COP ì§€ë„ ì‹œê°í™”
```

### 4.2 ì˜¨í†¨ë¡œì§€ ìƒì„± í”„ë¡œì„¸ìŠ¤

```
1. Excel íŒŒì¼ ë¡œë“œ (DataManager)
   â†“
2. RDF ë³€í™˜ (EnhancedOntologyManager)
   â”œâ”€ ì—”í‹°í‹° ì¶”ì¶œ
   â”œâ”€ ê´€ê³„ ë§¤í•‘
   â””â”€ ì‚¼ì¤‘í•­ ìƒì„±
   â†“
3. ì˜¨í†¨ë¡œì§€ ì €ì¥
   â””â”€ outputs/k_c4i_instances_owl.ttl
   â†“
4. ì‹œê°í™” (PyVis)
   â””â”€ ì§€ì‹ ê·¸ë˜í”„ í‘œì‹œ
```

### 4.3 RAG ì¸ë±ì‹± í”„ë¡œì„¸ìŠ¤

```
1. ë¬¸ì„œ ë¡œë“œ (knowledge/rag_docs/)
   â†“
2. ì„ë² ë”© ìƒì„± (RAGManager)
   â”œâ”€ sentence-transformers
   â””â”€ ë²¡í„° ë³€í™˜
   â†“
3. FAISS ì¸ë±ìŠ¤ êµ¬ì¶•
   â†“
4. ê²€ìƒ‰ ì¤€ë¹„ ì™„ë£Œ
```

---

## 5. ê¸°ìˆ  ìŠ¤íƒ

### 5.1 í”„ë¡ íŠ¸ì—”ë“œ

| ê¸°ìˆ  | ìš©ë„ | íŒŒì¼ ìœ„ì¹˜ |
|------|------|-----------|
| **Streamlit** | ì›¹ UI í”„ë ˆì„ì›Œí¬ | `ui/` |
| **MapLibre GL JS** | ì§€ë„ ë Œë”ë§ | `ui/static/lib/maplibre-gl.js` |
| **Milsymbol.js** | êµ°ì‚¬ ì‹¬ë³¼ í‘œì‹œ | `ui/static/lib/milsymbol.js` |
| **D3.js** | ê·¸ë˜í”„ ì‹œê°í™” | `lib/d3/` |
| **Vis.js** | ë„¤íŠ¸ì›Œí¬ ê·¸ë˜í”„ | `lib/vis-9.1.2/` |

### 5.2 ë°±ì—”ë“œ

| ê¸°ìˆ  | ìš©ë„ | íŒŒì¼ ìœ„ì¹˜ |
|------|------|-----------|
| **Python 3.12** | ë©”ì¸ ì–¸ì–´ | ì „ì²´ |
| **FastAPI** | ì§€ë„ ì„œë²„ | `tools/map_server_osm.py` |
| **Pandas** | ë°ì´í„° ì²˜ë¦¬ | `core_pipeline/data_manager.py` |
| **RDFLib** | ì˜¨í†¨ë¡œì§€ ì²˜ë¦¬ | `core_pipeline/ontology_manager_enhanced.py` |
| **FAISS** | ë²¡í„° ê²€ìƒ‰ | `core_pipeline/rag_manager.py` |
| **sentence-transformers** | ì„ë² ë”© ìƒì„± | `core_pipeline/rag_manager.py` |
| **OpenAI API** | LLM ì„œë¹„ìŠ¤ | `core_pipeline/llm_manager.py` |
| **HuggingFace Transformers** | ë¡œì»¬ LLM | `core_pipeline/llm_manager.py` |

### 5.3 ë°ì´í„° ì €ì¥

| í˜•ì‹ | ìš©ë„ | ìœ„ì¹˜ |
|------|------|------|
| **Excel** | ì›ì²œ ë°ì´í„° | `data_lake/` |
| **RDF/TTL** | ì˜¨í†¨ë¡œì§€ | `outputs/k_c4i_instances_owl.ttl` |
| **MBTiles** | ì§€ë„ íƒ€ì¼ | `data/maps/south-korea.mbtiles` |
| **GeoJSON** | ì§€ë„ ë°ì´í„° | `data/maps/*.geojson` |
| **FAISS** | ë²¡í„° ì¸ë±ìŠ¤ | `knowledge/embeddings/` |

---

## 6. íŒŒì¼ êµ¬ì¡°

### 6.1 ì£¼ìš” ë””ë ‰í† ë¦¬

```
COA_Agent_Platform/
â”œâ”€â”€ agents/                    # AI ì—ì´ì „íŠ¸
â”‚   â”œâ”€â”€ defense_coa_agent/     # COA ì¶”ì²œ Agent
â”‚   â”œâ”€â”€ ontology_agent/        # ì˜¨í†¨ë¡œì§€ Agent
â”‚   â””â”€â”€ ccir_recommendation_agent/  # CCIR ì¶”ì²œ Agent
â”‚
â”œâ”€â”€ core_pipeline/             # í•µì‹¬ íŒŒì´í”„ë¼ì¸
â”‚   â”œâ”€â”€ orchestrator.py        # ì˜¤ì¼€ìŠ¤íŠ¸ë ˆì´í„°
â”‚   â”œâ”€â”€ data_manager.py        # ë°ì´í„° ê´€ë¦¬
â”‚   â”œâ”€â”€ ontology_manager_enhanced.py  # ì˜¨í†¨ë¡œì§€ ê´€ë¦¬
â”‚   â”œâ”€â”€ rag_manager.py         # RAG ê´€ë¦¬
â”‚   â”œâ”€â”€ llm_manager.py         # LLM ê´€ë¦¬
â”‚   â”œâ”€â”€ coa_service.py         # COA ì„œë¹„ìŠ¤
â”‚   â”œâ”€â”€ coa_engine/            # COA ì—”ì§„
â”‚   â””â”€â”€ data_loaders/          # ë°ì´í„° ë¡œë”
â”‚
â”œâ”€â”€ ui/                        # ì‚¬ìš©ì ì¸í„°í˜ì´ìŠ¤
â”‚   â”œâ”€â”€ dashboard.py           # ë©”ì¸ ëŒ€ì‹œë³´ë“œ
â”‚   â”œâ”€â”€ coa_agent_app.py       # COA Agent ì•±
â”‚   â”œâ”€â”€ views/                  # í˜ì´ì§€ ë·°
â”‚   â”‚   â”œâ”€â”€ agent_execution.py # Agent ì‹¤í–‰ í˜ì´ì§€
â”‚   â”‚   â”œâ”€â”€ ontology_generation.py  # ì˜¨í†¨ë¡œì§€ ìƒì„±
â”‚   â”‚   â””â”€â”€ knowledge_graph.py # ì§€ì‹ ê·¸ë˜í”„
â”‚   â””â”€â”€ components/            # UI ì»´í¬ë„ŒíŠ¸
â”‚       â”œâ”€â”€ ontology_aware_cop.py  # COP ì‹œê°í™”
â”‚       â”œâ”€â”€ situation_input.py    # ìƒí™© ì…ë ¥
â”‚       â””â”€â”€ chain_visualizer.py   # ì²´ì¸ ì‹œê°í™”
â”‚
â”œâ”€â”€ tools/                     # ë„êµ¬
â”‚   â”œâ”€â”€ map_server_osm.py      # ì§€ë„ ì„œë²„
â”‚   â””â”€â”€ setup_offline_assets.py  # ì˜¤í”„ë¼ì¸ ìì‚° ì„¤ì •
â”‚
â”œâ”€â”€ data_lake/                 # ì›ì²œ ë°ì´í„°
â”‚   â”œâ”€â”€ COA_Library.xlsx
â”‚   â”œâ”€â”€ ìœ„í˜‘ìƒí™©.xlsx
â”‚   â””â”€â”€ ...
â”‚
â”œâ”€â”€ data/                      # ì²˜ë¦¬ëœ ë°ì´í„°
â”‚   â””â”€â”€ maps/                  # ì§€ë„ ë°ì´í„°
â”‚       â”œâ”€â”€ south-korea.mbtiles
â”‚       â””â”€â”€ *.geojson
â”‚
â”œâ”€â”€ knowledge/                 # ì§€ì‹ ë² ì´ìŠ¤
â”‚   â”œâ”€â”€ ontology/              # ì˜¨í†¨ë¡œì§€ íŒŒì¼
â”‚   â”œâ”€â”€ rag_docs/              # RAG ë¬¸ì„œ
â”‚   â””â”€â”€ embeddings/            # ì„ë² ë”© íŒŒì¼
â”‚
â”œâ”€â”€ config/                    # ì„¤ì • íŒŒì¼
â”‚   â”œâ”€â”€ global.yaml            # ì „ì—­ ì„¤ì •
â”‚   â””â”€â”€ agent_registry.yaml    # Agent ë“±ë¡
â”‚
â”œâ”€â”€ outputs/                   # ì¶œë ¥ íŒŒì¼
â”‚   â””â”€â”€ k_c4i_instances_owl.ttl  # ì˜¨í†¨ë¡œì§€ ì¶œë ¥
â”‚
â”œâ”€â”€ scripts/                   # ìœ í‹¸ë¦¬í‹° ìŠ¤í¬ë¦½íŠ¸
â”‚   â”œâ”€â”€ download_offline_assets.py
â”‚   â””â”€â”€ ...
â”‚
â”œâ”€â”€ tests/                     # í…ŒìŠ¤íŠ¸
â”‚   â””â”€â”€ test_*.py
â”‚
â”œâ”€â”€ 99.Dev_guide/              # ê°œë°œ ê°€ì´ë“œ
â”‚   â””â”€â”€ *.md
â”‚
â””â”€â”€ run_streamlit.py           # ë©”ì¸ ì‹¤í–‰ ìŠ¤í¬ë¦½íŠ¸
```

### 6.2 í•µì‹¬ íŒŒì¼ ìš”ì•½

| íŒŒì¼ | ì—­í•  | ì¤‘ìš”ë„ |
|------|------|--------|
| `run_streamlit.py` | ë©”ì¸ ì§„ì…ì  | â­â­â­â­â­ |
| `ui/dashboard.py` | í†µí•© ëŒ€ì‹œë³´ë“œ | â­â­â­â­â­ |
| `ui/views/agent_execution.py` | Agent ì‹¤í–‰ í˜ì´ì§€ | â­â­â­â­â­ |
| `core_pipeline/orchestrator.py` | íŒŒì´í”„ë¼ì¸ ì¡°ìœ¨ | â­â­â­â­â­ |
| `agents/defense_coa_agent/logic_defense_enhanced.py` | COA ì¶”ì²œ Agent | â­â­â­â­â­ |
| `core_pipeline/ontology_manager_enhanced.py` | ì˜¨í†¨ë¡œì§€ ê´€ë¦¬ | â­â­â­â­ |
| `core_pipeline/rag_manager.py` | RAG ê´€ë¦¬ | â­â­â­â­ |
| `core_pipeline/llm_manager.py` | LLM ê´€ë¦¬ | â­â­â­â­ |
| `ui/components/ontology_aware_cop.py` | COP ì‹œê°í™” | â­â­â­â­ |
| `tools/map_server_osm.py` | ì§€ë„ ì„œë²„ | â­â­â­ |

---

## 7. ì‹¤í–‰ ë°©ë²•

### 7.1 ê¸°ë³¸ ì‹¤í–‰

```powershell
# í”„ë¡œì íŠ¸ ë£¨íŠ¸ì—ì„œ
python run_streamlit.py
```

**ìë™ ì‹¤í–‰ë˜ëŠ” ê²ƒë“¤**:
1. ì§€ë„ ì„œë²„ ì‹œì‘ (í¬íŠ¸ 8080) - `tools/map_server_osm.py`
2. Streamlit ì•± ì‹œì‘ (í¬íŠ¸ 8501) - `ui/dashboard.py`

### 7.2 ì˜µì…˜

```powershell
# COA Agent ë°ëª¨ ì•± ì‹¤í–‰
python run_streamlit.py --app coa

# í¬íŠ¸ ì§€ì •
python run_streamlit.py --port 8502

# ë¡œê·¸ íŒŒì¼ ê¸°ë¡ í™œì„±í™”
python run_streamlit.py --log-to-file
```

### 7.3 ìˆ˜ë™ ì‹¤í–‰

```powershell
# ì§€ë„ ì„œë²„ë§Œ ì‹¤í–‰
python tools/map_server_osm.py

# Streamlit ì•±ë§Œ ì‹¤í–‰
streamlit run ui/dashboard.py
```

---

## 8. ì£¼ìš” ê¸°ëŠ¥ ìš”ì•½

### 8.1 ë°ì´í„° ê´€ë¦¬

- âœ… Excel íŒŒì¼ ìë™ ë¡œë“œ (`data_lake/`)
- âœ… 8ê°œ ì£¼ìš” í…Œì´ë¸” ì§€ì›
- âœ… ë°ì´í„° ê²€ì¦ ë° í’ˆì§ˆ ì²´í¬
- âœ… ë°ì´í„° ë³€ê²½ ê°ì§€ (DataWatcher)

### 8.2 ì˜¨í†¨ë¡œì§€ ìƒì„±

- âœ… Excel â†’ RDF ê·¸ë˜í”„ ìë™ ë³€í™˜
- âœ… ê´€ê³„ ë§¤í•‘ ê¸°ë°˜ ìë™ ì—°ê²°
- âœ… PyVis ì¸í„°ë™í‹°ë¸Œ ì‹œê°í™”
- âœ… SPARQL ì¿¼ë¦¬ ì§€ì›
- âœ… ì¶”ë¡ ëœ ê·¸ë˜í”„ ìƒì„±

### 8.3 ë°©ì±… ì¶”ì²œ (COA Recommendation)

- âœ… 7ê°€ì§€ ë°©ì±… íƒ€ì… ì§€ì›
- âœ… 4ê°€ì§€ ì…ë ¥ ë°©ì‹ ì§€ì›
- âœ… í•˜ì´ë¸Œë¦¬ë“œ ì¶”ë¡  (ì˜¨í†¨ë¡œì§€ + RAG + LLM)
- âœ… íŒ”ë€í‹°ì–´ ëª¨ë“œ (6ê°€ì§€ ìš”ì†Œ ì¢…í•© í‰ê°€)
- âœ… ì¶”ë¡  ê²½ë¡œ ì‹œê°í™”

### 8.4 RAG (ê²€ìƒ‰ ì¦ê°• ìƒì„±)

- âœ… ë¬¸ì„œ ì„ë² ë”© ìƒì„±
- âœ… FAISS ì¸ë±ìŠ¤ êµ¬ì¶•
- âœ… ìœ ì‚¬ ë¬¸ì„œ ê²€ìƒ‰
- âœ… LLM ì»¨í…ìŠ¤íŠ¸ ì œê³µ

### 8.5 ì „ìˆ ìƒí™©ë„ (COP)

- âœ… MapLibre GL JS ê¸°ë°˜ ì§€ë„ í‘œì‹œ
- âœ… MBTiles ë²¡í„° íƒ€ì¼ ë Œë”ë§
- âœ… ìœ„í˜‘, ë¶€ëŒ€, COA ê²½ë¡œ ì‹œê°í™”
- âœ… Milsymbol.js êµ°ì‚¬ ì‹¬ë³¼ í‘œì‹œ
- âœ… ì¸í„°ë™í‹°ë¸Œ ê¸°ëŠ¥

### 8.6 LLM í†µí•©

- âœ… OpenAI API ì§€ì›
- âœ… ë¡œì»¬ ëª¨ë¸ ì§€ì› (HuggingFace)
- âœ… ì»¨í…ìŠ¤íŠ¸ ê´€ë¦¬
- âœ… í”„ë¡¬í”„íŠ¸ ìµœì í™”

---

## 9. í–¥í›„ ê°œì„  ë°©í–¥

### 9.1 ì„±ëŠ¥ ìµœì í™”

- [ ] íƒ€ì¼ ë¡œë“œ ì„±ëŠ¥ ê°œì„ 
- [ ] ì˜¨í†¨ë¡œì§€ ì¿¼ë¦¬ ìµœì í™”
- [ ] RAG ê²€ìƒ‰ ì†ë„ í–¥ìƒ
- [ ] ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰ ìµœì í™”

### 9.2 ê¸°ëŠ¥ í™•ì¥

- [ ] ì¶”ê°€ Agent íƒ€ì… ì§€ì›
- [ ] ì‹¤ì‹œê°„ í˜‘ì—… ê¸°ëŠ¥
- [ ] íˆìŠ¤í† ë¦¬ ê´€ë¦¬ ê°•í™”
- [ ] ë¦¬í¬íŠ¸ ìƒì„± ê¸°ëŠ¥

### 9.3 ì‚¬ìš©ì ê²½í—˜

- [ ] UI/UX ê°œì„ 
- [ ] ì—ëŸ¬ ì²˜ë¦¬ ê°•í™”
- [ ] ì‚¬ìš©ì ê°€ì´ë“œ ê°œì„ 
- [ ] ë‹¤êµ­ì–´ ì§€ì›

---

## 10. ì°¸ê³  ë¬¸ì„œ

### 10.1 ê°œë°œ ê°€ì´ë“œ

- `99.Dev_guide/COP_í•­ìƒ_í‘œì‹œ_ê°œì„ _ì™„ë£Œ.md` - COP ì‹œê°í™” ê°œì„ 
- `99.Dev_guide/MapLibre_GL_JS_ì „í™˜_ì™„ë£Œ.md` - ì§€ë„ ë¼ì´ë¸ŒëŸ¬ë¦¬ ì „í™˜
- `99.Dev_guide/React_ì œê±°_ìˆœìˆ˜_JS_ì „í™˜_ì™„ë£Œ.md` - React ì œê±°
- `99.Dev_guide/ì§€ë„_ì„œë²„_ìë™_ì‹¤í–‰_ê°€ì´ë“œ.md` - ì§€ë„ ì„œë²„ ê°€ì´ë“œ

### 10.2 ì‹œìŠ¤í…œ ë¬¸ì„œ

- `docs/ì‹œìŠ¤í…œ_ì•„í‚¤í…ì²˜.md` - ì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜ ìƒì„¸
- `docs/ë°©ì±…ì¶”ì²œ_ì‹œìŠ¤í…œ.md` - ë°©ì±… ì¶”ì²œ ì‹œìŠ¤í…œ ìƒì„¸
- `docs/ì˜¨í†¨ë¡œì§€_ì„¤ê³„.md` - ì˜¨í†¨ë¡œì§€ ì„¤ê³„
- `README_ì¢…í•©ê°€ì´ë“œ.md` - ì¢…í•© ê°€ì´ë“œ

### 10.3 ì„¤ì¹˜ ê°€ì´ë“œ

- `INSTALLATION_GUIDE.md` - ì„¤ì¹˜ ê°€ì´ë“œ

---

## 11. ê²°ë¡ 

COA Agent Platformì€ ì˜¨í†¨ë¡œì§€ ê¸°ë°˜ ì§€ì‹ í‘œí˜„ê³¼ AI ì—ì´ì „íŠ¸ ê¸°ìˆ ì„ í™œìš©í•œ êµ°ì‚¬ ì˜ì‚¬ê²°ì • ì§€ì› ì‹œìŠ¤í…œì˜ í”„ë¡œí† íƒ€ì…ì…ë‹ˆë‹¤. 

**í•µì‹¬ ê°•ì **:
- âœ… ëª…í™•í•œ ë ˆì´ì–´ ë¶„ë¦¬ ì•„í‚¤í…ì²˜
- âœ… í™•ì¥ ê°€ëŠ¥í•œ Agent ì‹œìŠ¤í…œ
- âœ… í•˜ì´ë¸Œë¦¬ë“œ ì¶”ë¡  (ì˜¨í†¨ë¡œì§€ + RAG + LLM)
- âœ… ì§ê´€ì ì¸ UI/UX
- âœ… ì „ìˆ ìƒí™©ë„ ì‹œê°í™”

**ì£¼ìš” ì„±ê³¼**:
- âœ… 7ê°€ì§€ COA íƒ€ì… ì§€ì›
- âœ… 4ê°€ì§€ ì…ë ¥ ë°©ì‹ ì§€ì›
- âœ… íŒ”ë€í‹°ì–´ ëª¨ë“œ êµ¬í˜„
- âœ… MapLibre GL JS ê¸°ë°˜ COP ì‹œê°í™”
- âœ… ì˜¤í”„ë¼ì¸ ì§€ë„ ì„œë²„ êµ¬ì¶•

ì´ ë¬¸ì„œëŠ” í”„ë¡œì íŠ¸ ì „ì²´ ì½”ë“œë² ì´ìŠ¤ë¥¼ ë¶„ì„í•˜ì—¬ ì‘ì„±ë˜ì—ˆìœ¼ë©°, ì‹œìŠ¤í…œ ì´í•´ ë° ê°œë°œ ì°¸ê³  ìë£Œë¡œ í™œìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

---

**ì‘ì„±ì**: AI Assistant  
**ìµœì¢… ìˆ˜ì •**: 2025-12-22  
**ë²„ì „**: 1.0







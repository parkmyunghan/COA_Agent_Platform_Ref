# 온톨로지 스튜디오 워크플로우 가이드

## 개요

온톨로지 스튜디오는 순환형 워크플로우를 기반으로 온톨로지의 전체 생명주기를 관리하는 통합 플랫폼입니다.

## 순환형 워크플로우 구조

```
[준비 단계] → [구축 단계] → [검증 단계] → [배포 단계] → [사용 단계] → [모니터링 단계] → [개선 단계] → [준비 단계] (순환)
```

### Phase 1: 준비 및 설계 (Preparation & Design)

**목적**: 데이터 준비 및 스키마 설계

**단계**:
1. **데이터 관리**
   - 데이터 로드
   - 데이터 품질 검증
   - 스키마 정의

2. **스키마 설계** (온톨로지 스튜디오)
   - 클래스 정의
   - 속성 정의
   - 관계 정의
   - 스키마 검증

### Phase 2: 구축 (Construction)

**목적**: 온톨로지 및 RAG 인덱스 구축

**단계**:
1. **온톨로지 생성**
   - 그래프 생성
   - 관계 생성 규칙 적용
   - 추론 실행

2. **RAG 인덱스 구성** (병렬 가능)
   - 문서 업로드
   - 청킹
   - 임베딩 생성

### Phase 3: 검증 및 배포 (Validation & Deployment)

**목적**: 품질 검증 및 프로덕션 배포

**단계**:
1. **품질 검증** (온톨로지 스튜디오)
   - 스키마 검증
   - 관계 품질 검증
   - 배치 검증

2. **승인 및 배포** (온톨로지 스튜디오)
   - 검증 결과 검토
   - 승인 워크플로우
   - 프로덕션 배포

### Phase 4: 사용 (Usage)

**목적**: 온톨로지 활용

**단계**:
1. **지식 탐색**
   - SPARQL 쿼리
   - 그래프 탐색
   - 엔티티 검색

2. **Agent 실행**
   - 상황 입력
   - 방책 추천
   - 결과 분석

### Phase 5: 모니터링 및 개선 (Monitoring & Improvement)

**목적**: 성능 모니터링 및 지속적 개선

**단계**:
1. **성능 모니터링** (온톨로지 스튜디오)
   - 사용 패턴 분석
   - 오류 추적
   - 성능 지표 수집

2. **피드백 및 개선** (온톨로지 스튜디오)
   - 문제 식별
   - 개선 계획 수립
   - → Phase 1로 피드백 (순환)

## 주요 기능

### 1. 워크플로우 상태 관리

- 현재 단계 추적
- 단계별 진행률 표시
- 단계 전환 제어
- 피드백 루프 카운트

### 2. 관계 관리

- 관계 조회 및 검색
- 관계 생성 규칙 검토
- 관계 편집 (개별/배치)
- 관계 히스토리 추적

### 3. 품질 보증

- 스키마 검증
- 관계 품질 검증
- 배치 검증
- 품질 리포트

### 4. 승인 및 배포

- 검증 결과 검토
- 승인 워크플로우
- 프로덕션 배포
- 롤백 기능

### 5. 버전 관리

- 변경 이력 추적
- 버전 비교
- 롤백
- 감사 로그

### 6. 피드백 및 개선

- 문제 식별
- 개선 계획 수립
- 워크플로우 순환

## 사용 방법

### 1. 워크플로우 시작

1. **온톨로지 스튜디오** 페이지 접속
2. 상단의 **워크플로우 상태 대시보드**에서 현재 단계 확인
3. 각 단계를 순서대로 완료

### 2. 단계 전환

- 각 단계의 모든 작업을 완료하면 **"다음 단계로 진행"** 버튼이 활성화됩니다
- 버튼을 클릭하여 다음 단계로 전환

### 3. 피드백 루프

- 모니터링에서 문제 발견 시
- 개선 계획 수립 후
- **"개선 완료 및 워크플로우 재시작"** 버튼 클릭
- 준비 단계로 순환하여 개선 사항 적용

## 파일 구조

```
core_pipeline/
├── ontology_workflow_manager.py  # 워크플로우 상태 관리
├── ontology_history.py            # 변경 이력 관리
└── batch_validator.py             # 배치 검증

ui/components/
├── workflow_status_dashboard.py   # 워크플로우 상태 대시보드
└── ontology_studio/
    ├── overview.py                # 개요
    ├── schema_manager.py          # 스키마 관리
    ├── relationship_manager.py     # 관계 관리
    ├── quality_assurance.py       # 품질 보증
    ├── approval_deployment.py     # 승인 및 배포
    ├── visualizer.py              # 시각화
    ├── inference_manager.py       # 추론 관리
    ├── version_control.py         # 버전 관리
    └── feedback_improvement.py    # 피드백 및 개선

ui/views/
└── ontology_studio.py             # 메인 페이지
```

## 상태 파일

- `metadata/ontology_workflow.json`: 워크플로우 상태 저장
- `metadata/ontology_history.jsonl`: 변경 이력 저장


# 방책 추천 UI/UX 개선 방안

## 현재 문제점

1. **진척율 팝업이 너무 빨리 사라짐**
   - 완료 후 즉시 사라져서 사용자가 완료 여부를 확인하기 어려움

2. **버튼 상태가 계속 "진행 중"으로 표시됨**
   - 방책 생성이 완료되어도 버튼이 계속 로딩 상태로 남아있음

3. **추천 방책이 하단에 있어서 보기 어려움**
   - 스크롤해야만 확인 가능
   - 중요한 결과가 눈에 잘 띄지 않음

## 개선 방안

### 1. 진척율 팝업 개선

**현재 문제:**
- `ProgressStatus`가 완료 후 즉시 사라짐 (`state === 'complete' && progress === 100`일 때 `return null`)

**개선 방안:**
- 완료 후 최소 2-3초간 표시
- 성공 애니메이션 추가 (체크마크 등)
- 자동으로 사라지기 전에 사용자가 확인할 수 있도록

**구현:**
```typescript
// ProgressStatus.tsx
const [showComplete, setShowComplete] = useState(false);

useEffect(() => {
  if (state === 'complete' && progress === 100) {
    setShowComplete(true);
    const timer = setTimeout(() => {
      setShowComplete(false);
    }, 3000); // 3초 후 사라짐
    return () => clearTimeout(timer);
  }
}, [state, progress]);

if (state === 'complete' && progress === 100 && !showComplete) {
  return null;
}
```

### 2. 버튼 상태 개선

**현재 문제:**
- `loading` 상태가 완료 후에도 `true`로 남아있음
- `response`가 설정되어도 버튼이 계속 로딩 상태

**개선 방안:**
- `response`가 설정되면 즉시 `loading`을 `false`로 변경
- 완료 후 버튼 텍스트를 "방책 추천 실행"으로 복원
- 또는 완료 후 "다시 생성" 버튼으로 변경

**구현:**
```typescript
// COAGenerator.tsx
useEffect(() => {
  if (response) {
    setLoading(false);
  }
}, [response]);
```

### 3. 추천 방책 표시 위치 개선

**옵션 A: 상단 고정 영역 (추천)**
- 페이지 상단에 고정된 결과 영역 추가
- 스크롤해도 항상 보이도록
- 컴팩트한 카드 형태로 3개 방책 표시

**옵션 B: 모달/드로어 형태**
- 방책 생성 완료 시 모달 또는 사이드 드로어로 결과 표시
- 지도와 겹치지 않도록 우측에서 슬라이드 인
- 상세 정보는 클릭 시 확장

**옵션 C: 탭 형태**
- 좌측 패널에 "입력" / "결과" 탭 추가
- 결과 탭에서 방책 목록을 더 크게 표시

**옵션 D: 플로팅 카드 (추천)**
- 지도 위에 플로팅되는 결과 카드
- 드래그 가능, 최소화/최대화 가능
- 지도를 가리지 않도록 반투명 배경

### 4. 시각적 피드백 개선

**성공 알림:**
- 방책 생성 완료 시 토스트 알림 표시
- "3개의 방책이 추천되었습니다" 메시지

**애니메이션:**
- 결과가 나타날 때 페이드 인 + 슬라이드 업 애니메이션
- 각 방책 카드가 순차적으로 나타남

**강조 표시:**
- 첫 번째 방책(최고 점수)을 더 크게 표시
- 랭킹 배지 강조
- 점수 바를 더 눈에 띄게

## 권장 구현 순서

1. **1단계: 버튼 상태 수정** (즉시 적용 가능)
   - `response` 설정 시 `loading` 해제

2. **2단계: 진척율 팝업 개선** (즉시 적용 가능)
   - 완료 후 3초간 표시
   - 성공 아이콘 추가

3. **3단계: 결과 표시 위치 개선** (중요)
   - 옵션 A (상단 고정) 또는 옵션 D (플로팅 카드) 구현
   - 사용자 테스트 후 결정

4. **4단계: 시각적 피드백 추가** (선택)
   - 토스트 알림
   - 애니메이션 효과

## 예상 효과

- **사용성 향상**: 결과를 즉시 확인 가능
- **시각적 명확성**: 진행 상태와 완료 상태가 명확히 구분
- **접근성 향상**: 스크롤 없이 주요 결과 확인 가능
- **전체적인 UX 개선**: 더 직관적이고 사용하기 편한 인터페이스

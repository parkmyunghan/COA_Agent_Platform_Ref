<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Phase 5: Final Recommendation (ìµœì¢… ì¶”ì²œ)</title>
    <script src="https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.min.js"></script>
    <style>
        body {
            font-family: 'Malgun Gothic', 'Segoe UI', sans-serif;
            line-height: 1.6;
            padding: 20px;
            background-color: #f5f5f5;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            background: white;
            padding: 30px;
            border-radius: 10px;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
        }

        h1 {
            color: #1976D2;
            border-bottom: 3px solid #1976D2;
            padding-bottom: 10px;
        }

        h2 {
            color: #0288D1;
            margin-top: 30px;
            border-left: 4px solid #0288D1;
            padding-left: 10px;
        }

        h3 {
            color: #0277BD;
        }

        .diagram-container {
            background: #fafafa;
            border: 1px solid #ddd;
            border-radius: 5px;
            padding: 20px;
            margin: 20px 0;
            overflow-x: auto;
        }

        .step-box {
            background: #e3f2fd;
            border-left: 4px solid #1976D2;
            padding: 15px;
            margin: 15px 0;
            border-radius: 4px;
        }

        .code-block {
            background: #263238;
            color: #aed581;
            padding: 15px;
            border-radius: 5px;
            overflow-x: auto;
            font-family: 'Consolas', 'Monaco', monospace;
            font-size: 13px;
            line-height: 1.5;
        }

        .output-box {
            background: #e8f5e9;
            border: 2px solid #4caf50;
            padding: 15px;
            margin: 15px 0;
            border-radius: 4px;
        }

        .info-box {
            background: #fff3e0;
            border-left: 4px solid #ff9800;
            padding: 15px;
            margin: 15px 0;
            border-radius: 4px;
        }

        .warning-box {
            background: #ffebee;
            border-left: 4px solid #f44336;
            padding: 15px;
            margin: 15px 0;
            border-radius: 4px;
        }

        .summary-box {
            background: #f3e5f5;
            border: 2px solid #9c27b0;
            padding: 20px;
            margin: 20px 0;
            border-radius: 8px;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            margin: 15px 0;
        }

        th,
        td {
            border: 1px solid #ddd;
            padding: 10px;
            text-align: left;
        }

        th {
            background-color: #1976D2;
            color: white;
        }

        tr:nth-child(even) {
            background-color: #f9f9f9;
        }

        code {
            background: #f5f5f5;
            padding: 2px 6px;
            border-radius: 3px;
            font-family: 'Consolas', monospace;
        }

        .highlight {
            background: #ffeb3b;
            padding: 2px 4px;
        }
    </style>
</head>

<body>
    <div class="container">
        <h1>ğŸ¯ Phase 5: Final Recommendation (ìµœì¢… ì¶”ì²œ)</h1>

        <div class="info-box">
            <strong>Phase ê°œìš”</strong><br />
            Phase 1~4ì—ì„œ ìƒì„±ëœ ëª¨ë“  ì •ë³´ë¥¼ ì¢…í•©í•˜ì—¬ **UI ì¶œë ¥ìš© ìµœì¢… ê²°ê³¼**ë¥¼ êµ¬ì„±í•©ë‹ˆë‹¤.
            Top-3 COAì— ëŒ€í•œ ì„¤ëª… ê°€ëŠ¥í•œ ì¶”ì²œ, ìƒí™© ë³€í™” ê°ì§€, ê³¼ê±° ì¶”ì²œê³¼ì˜ ë¹„êµë¥¼ í¬í•¨í•©ë‹ˆë‹¤.
        </div>

        <h2>ğŸ”„ ì „ì²´ í”„ë¡œì„¸ìŠ¤ íë¦„</h2>
        <div class="diagram-container">
            <div class="mermaid">
                graph TB
                Start([Phase 5 ì‹œì‘]) --> Collect[1. ë°ì´í„° ìˆ˜ì§‘<br />Phases 1-4 ê²°ê³¼]

                Collect --> recommendations[Top-3 COA<br />Phase 3 ê²°ê³¼]
                Collect --> situation[ìƒí™© ë¶„ì„<br />Phase 2 ê²°ê³¼]
                Collect --> llm_data[LLM ì¸ì‚¬ì´íŠ¸<br />Phase 4 ê²°ê³¼]

                recommendations --> Format[2. ì¶œë ¥ í¬ë§·íŒ…<br />UI ë°ì´í„° êµ¬ì¡° ë³€í™˜]
                situation --> Format
                llm_data --> Format

                Format --> Reasoning[3. Reasoning ê°ì²´ êµ¬ì„±]
                Reasoning --> R1[situation_assessment]
                Reasoning --> R2[justification]
                Reasoning --> R3[pros/cons]
                Reasoning --> R4[unit_rationale]
                Reasoning --> R5[system_search_path]

                R1 --> Metadata[4. ë©”íƒ€ë°ì´í„° ì¶”ê°€]
                R2 --> Metadata
                R3 --> Metadata
                R4 --> Metadata
                R5 --> Metadata

                Metadata --> M1[LLM í˜‘ë ¥ ì •ë³´]
                Metadata --> M2[ì‹ ë¢°ë„/ê°•ì•½ì ]
                Metadata --> M3[ì¶”ë¡  ì¶”ì ]

                M1 --> Summary[5. ìš”ì•½ í…ìŠ¤íŠ¸ ìƒì„±<br />_generate_overall_situation_summary]
                M2 --> Summary
                M3 --> Summary

                Summary --> ChangeDetect[6. ìƒí™© ë³€í™” ê°ì§€<br />_detect_situation_change]

                ChangeDetect --> Changed{ë³€í™” ê°ì§€?}
                Changed -->|Yes| Compare[ì´ì „ ì¶”ì²œê³¼ ë¹„êµ<br />_compare_recommendations]
                Changed -->|No| Skip[Skip]

                Compare --> History[7. íˆìŠ¤í† ë¦¬ ì €ì¥<br />_save_to_history]
                Skip --> History

                History --> FinalResult[8. ìµœì¢… ê²°ê³¼ ë°˜í™˜]

                FinalResult --> Output([UIë¡œ ì „ë‹¬<br />result dictionary])

                style Start fill:#4CAF50,color:#fff
                style Output fill:#2196F3,color:#fff
                style Reasoning fill:#FF9800,color:#fff
                style ChangeDetect fill:#9C27B0,color:#fff
            </div>
        </div>

        <h2>ğŸ“‹ ìµœì¢… ê²°ê³¼ êµ¬ì¡°</h2>

        <div class="output-box">
            <h3>Result Dictionary êµ¬ì¡°</h3>
            <div class="code-block">
                {
                "agent": "EnhancedDefenseCOAAgent",
                "status": "completed",
                "situation_id": "THREAT_001",

                # Phase 2 ìƒí™© ë¶„ì„ ê²°ê³¼
                "situation_analysis": {...},

                # Phase 3~4 ë°©ì±… ì¶”ì²œ (Top-3)
                "recommendations": [
                {
                "coa_id": "COA_DEF_001",
                "coa_name": "ê³µì¤‘ ê¸°ë™ ë°©ì–´",
                "coa_type": "defense",
                "score": 0.87,
                "reason": "ìœ„í˜‘ìˆ˜ì¤€ Highì— ì í•©í•˜ë©°...",

                # Phase 3 ì ìˆ˜ ìƒì„¸
                "score_breakdown": {
                "threat": 0.85,
                "resources": 0.80,
                "assets": 0.90,
                ...
                },

                # Phase 4 LLM ì¶”ë¡  ê²°ê³¼
                "reasoning": {
                "situation_assessment": "ì  í—¬ê¸°ë¶€ëŒ€ì˜ ê¸°ìŠµ ê³µê²©...",
                "justification": "ëŒ€ê³µ ë°©ì–´ì²´ê³„ ì¦‰ì‹œ ê°€ë™...",
                "pros": "ì‹ ì†í•œ ëŒ€ì‘ ê°€ëŠ¥, ìì› íš¨ìœ¨ì„± ë†’ìŒ",
                "unit_rationale": "ê³µë³‘ëŒ€ëŒ€ëŠ” ë°©ì–´ì§„ì§€ êµ¬ì¶•...",
                "system_search_path": "ê·¸ë˜í”„ì—ì„œ Air Threat â†’ countersThreat..."
                },

                # ë‹¤ì–‘ì„± í•„í„°ë§ ì •ë³´
                "selection_category": "ì‘ì „ ìµœì ì•ˆ",

                # ì„¤ëª… ê°€ëŠ¥ì„± ì •ë³´
                "confidence": 0.85,
                "strengths": ["ë†’ì€ ì„±ê³µë¥ ", "ìì› ê°€ìš©ì„±"],
                "weaknesses": ["ì•¼ê°„ ì œí•œ"],
                "reasoning_trace": [...]
                },
                {...}, # 2ìœ„
                {...} # 3ìœ„
                ],

                # LLM í˜‘ë ¥ ë©”íƒ€ë°ì´í„°
                "llm_collaboration": {
                "situation_analysis_used": true,
                "strategy_evaluation_used": true,
                "llm_insights": {...},
                "llm_threat_assessment": {...}
                },

                # ì „ì²´ ìƒí™© ìš”ì•½ (ìì—°ì–´)
                "situation_summary": "í˜„ì¬ ì  í—¬ê¸°ë¶€ëŒ€ì˜ ê³µì¤‘ ê³µê²© ìœ„í˜‘ì´ ê°ì§€ë˜ì—ˆìœ¼ë©°...",

                # ìƒí™© ë³€í™” ê°ì§€
                "change_detected": true,
                "previous_recommendation": {...},
                "change_summary": "ìœ„í˜‘ ìˆ˜ì¤€ì´ Medium â†’ Highë¡œ ìƒìŠ¹...",
                "change_info": {...},

                # ê¸°íƒ€
                "palantir_mode": true,
                "timestamp": "2025-12-29T16:45:00",
                "summary": "ì´ 3ê°œì˜ ë°©ì±…ì„ ì¶”ì²œí–ˆìŠµë‹ˆë‹¤:\\n1. [defense] ê³µì¤‘ ê¸°ë™ ë°©ì–´ (ì í•©ë„: 0.87)\\n..."
                }
            </div>
        </div>

        <h2>ğŸ”§ ë‹¨ê³„ë³„ ìƒì„¸ ì„¤ëª…</h2>

        <div class="step-box">
            <h3>Step 2-3: Reasoning ê°ì²´ êµ¬ì„±</h3>
            <p>ê° COAì— ëŒ€í•´ 5ê°€ì§€ reasoning í•­ëª©ì„ êµ¬ì„±:</p>
            <table>
                <thead>
                    <tr>
                        <th>í•„ë“œ</th>
                        <th>ì†ŒìŠ¤</th>
                        <th>ì„¤ëª…</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>situation_assessment</td>
                        <td><code>_generate_situation_assessment()</code></td>
                        <td>í˜„ì¬ ì „ìˆ  ìƒí™© íŒë‹¨</td>
                    </tr>
                    <tr>
                        <td>justification</td>
                        <td><code>_generate_recommendation_reason()</code></td>
                        <td>ì´ ë°©ì±…ì„ ì„ íƒí•œ ì´ìœ </td>
                    </tr>
                    <tr>
                        <td>pros</td>
                        <td><code>_generate_expected_effects()</code></td>
                        <td>ê¸°ëŒ€ íš¨ê³¼ ë° ê°•ì </td>
                    </tr>
                    <tr>
                        <td>unit_rationale</td>
                        <td>Phase 4 LLM ìƒì„±</td>
                        <td>ë¶€ëŒ€ ë°°ì¹˜ ê·¼ê±°</td>
                    </tr>
                    <tr>
                        <td>system_search_path</td>
                        <td>Phase 4 LLM ìƒì„±</td>
                        <td>ì‹œìŠ¤í…œ íƒìƒ‰ ê²½ë¡œ</td>
                    </tr>
                </tbody>
            </table>

            <div class="code-block">
                # ì½”ë“œ ì˜ˆì‹œ (logic_defense_enhanced.py ë¼ì¸ 572-579)
                "reasoning": {
                "situation_assessment": s.get("adapted_assessment") or
                self._generate_situation_assessment(situation_info),
                "justification": self._generate_recommendation_reason(s, situation_info),
                "pros": s.get("adapted_strengths") or
                self._generate_expected_effects(s, situation_info),
                "unit_rationale": s.get("unit_rationale") or s.get("llm_reason"),
                "system_search_path": s.get("system_search_path")
                }
            </div>
        </div>

        <div class="step-box">
            <h3>Step 5: ì „ì²´ ìƒí™© ìš”ì•½ ìƒì„±</h3>
            <p><strong>í•¨ìˆ˜</strong>: <code>_generate_overall_situation_summary(situation_info, situation_analysis)</code>
            </p>
            <p><strong>ëª©ì </strong>: COP(Common Operational Picture) ìƒë‹¨ì— í‘œì‹œë  ìì—°ì–´ ìš”ì•½ ìƒì„±</p>
            <div class="code-block">
                # ìƒì„± ì˜ˆì‹œ
                "í˜„ì¬ CELL_A3 ì§€ì—­ì—ì„œ ì  í—¬ê¸°ë¶€ëŒ€ì˜ ê³µì¤‘ ê³µê²© ìœ„í˜‘ì´ ê°ì§€ë˜ì—ˆìœ¼ë©°,
                ì‹¬ê°ë„ High(0.85)ë¡œ í‰ê°€ë©ë‹ˆë‹¤. 1ëŒ€ëŒ€ ë° 2ì¤‘ëŒ€ê°€ í•´ë‹¹ ì§€ì—­ì— ë°°ì¹˜ë˜ì–´ ìˆìœ¼ë©°,
                ëŒ€ê³µ ë°©ì–´ì²´ê³„ ì¦‰ì‹œ ê°€ë™ì´ í•„ìš”í•œ ìƒí™©ì…ë‹ˆë‹¤."
            </div>
        </div>

        <div class="step-box">
            <h3>Step 5: Summary í…ìŠ¤íŠ¸ ìƒì„±</h3>
            <p>Top-3 ì¶”ì²œ ë°©ì±…ì„ ê°„ê²°í•œ í…ìŠ¤íŠ¸ë¡œ ìš”ì•½:</p>
            <div class="code-block">
                # ì½”ë“œ ë¡œì§ (logic_defense_enhanced.py ë¼ì¸ 625-632)
                summary_parts = [f"ì´ {len(recommendations)}ê°œì˜ ë°©ì±…ì„ ì¶”ì²œí–ˆìŠµë‹ˆë‹¤:"]
                for i, rec in enumerate(recommendations[:3], 1):
                coa_name = rec.get("ëª…ì¹­") or rec.get("name") or "Unknown"
                coa_type = rec.get("coa_type", "defense")
                score = rec.get("ìµœì¢…ì ìˆ˜", 0.5)
                summary_parts.append(f"{i}. [{coa_type}] {coa_name} (ì í•©ë„: {score:.2f})")

                result["summary"] = "\n".join(summary_parts)

                # ì¶œë ¥ ì˜ˆì‹œ
                ì´ 3ê°œì˜ ë°©ì±…ì„ ì¶”ì²œí–ˆìŠµë‹ˆë‹¤:
                1. [defense] ê³µì¤‘ ê¸°ë™ ë°©ì–´ (ì í•©ë„: 0.87)
                2. [counter_attack] ì‹ ì† ëŒ€ì‘ ë°˜ê²© (ì í•©ë„: 0.78)
                3. [maneuver] ì „ìˆ ì  ê¸°ë™ íšŒí”¼ (ì í•©ë„: 0.72)
            </div>
        </div>

        <div class="step-box">
            <h3>Step 6: ìƒí™© ë³€í™” ê°ì§€</h3>
            <p><strong>í•¨ìˆ˜</strong>: <code>_detect_situation_change(situation_id, situation_info)</code></p>
            <p><strong>ë©”ì»¤ë‹ˆì¦˜</strong>:</p>
            <ol>
                <li>íˆìŠ¤í† ë¦¬ì—ì„œ ë™ì¼ <code>situation_id</code>ì˜ ì´ì „ ê¸°ë¡ ì¡°íšŒ</li>
                <li>ì£¼ìš” í•„ë“œ ë¹„êµ (ìœ„í˜‘ìœ í˜•, ì‹¬ê°ë„, ë°œìƒìœ„ì¹˜)</li>
                <li>ë³€í™” ì„ê³„ê°’ ì´ˆê³¼ ì‹œ <code>change_detected=True</code></li>
            </ol>

            <h4>ì´ì „ ì¶”ì²œê³¼ ë¹„êµ</h4>
            <p><strong>í•¨ìˆ˜</strong>: <code>_compare_recommendations(previous_rec, current_rec)</code></p>
            <div class="code-block">
                # ë¹„êµ í•­ëª©
                - 1ìœ„ ë°©ì±… ë³€ê²½ ì—¬ë¶€
                - í‰ê·  ì ìˆ˜ ë³€í™”
                - ì¶”ì²œëœ ë°©ì±… ìœ í˜• ë³€í™”
                - ìƒˆë¡œìš´ ì œì•½ì¡°ê±´ ì¶”ê°€

                # ì¶œë ¥ ì˜ˆì‹œ
                {
                "top_coa_changed": true,
                "previous_top": "ì§€ì—­ ë°©ì–´ ê°•í™”",
                "current_top": "ê³µì¤‘ ê¸°ë™ ë°©ì–´",
                "score_diff": +0.15,
                "change_reason": "ìœ„í˜‘ ìˆ˜ì¤€ ìƒìŠ¹ (Medium â†’ High)"
                }
            </div>
        </div>

        <div class="step-box">
            <h3>Step 7: íˆìŠ¤í† ë¦¬ ì €ì¥</h3>
            <p><strong>í•¨ìˆ˜</strong>: <code>_save_to_history(situation_id, result)</code></p>
            <p><strong>ì €ì¥ ìœ„ì¹˜</strong>: ë©”ëª¨ë¦¬ ë˜ëŠ” íŒŒì¼ ì‹œìŠ¤í…œ (ì„¤ì •ì— ë”°ë¼)</p>
            <p><strong>ìš©ë„</strong>:</p>
            <ul>
                <li>ì‹œê°„ ê²½ê³¼ì— ë”°ë¥¸ ì¶”ì²œ ë³€í™” ì¶”ì </li>
                <li>ë™ì¼ ìƒí™© ì¬ë°œ ì‹œ ë¹ ë¥¸ ì°¸ì¡°</li>
                <li>ì‹œìŠ¤í…œ í•™ìŠµ ë°ì´í„°ë¡œ í™œìš© (í–¥í›„ í™•ì¥)</li>
            </ul>
        </div>

        <h2>ğŸ¨ UI ë°ì´í„° ë§¤í•‘</h2>
        <div class="info-box">
            <h3>React UI ì»´í¬ë„ŒíŠ¸ë³„ í™œìš©</h3>
            <table>
                <thead>
                    <tr>
                        <th>UI ì»´í¬ë„ŒíŠ¸</th>
                        <th>ì‚¬ìš© ë°ì´í„°</th>
                        <th>í‘œì‹œ ë‚´ìš©</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>ìƒí™© ìš”ì•½ ì¹´ë“œ</td>
                        <td><code>situation_summary</code></td>
                        <td>ì „ì²´ ìƒí™© ìì—°ì–´ ì„¤ëª…</td>
                    </tr>
                    <tr>
                        <td>COA ì¹´ë“œ (Top-3)</td>
                        <td><code>recommendations[]</code></td>
                        <td>ë°©ì±…ëª…, ì ìˆ˜, ìœ í˜•</td>
                    </tr>
                    <tr>
                        <td>ì¶”ì²œ ì´ìœ  ì„¹ì…˜</td>
                        <td><code>reasoning.justification</code></td>
                        <td>ì„ íƒ ê·¼ê±°</td>
                    </tr>
                    <tr>
                        <td>ê¸°ëŒ€ íš¨ê³¼</td>
                        <td><code>reasoning.pros</code></td>
                        <td>ì¥ì /íš¨ê³¼</td>
                    </tr>
                    <tr>
                        <td>ë¶€ëŒ€ ë°°ì¹˜ ì„¤ëª…</td>
                        <td><code>reasoning.unit_rationale</code></td>
                        <td>ë¶€ëŒ€ ìš´ìš© ê·¼ê±°</td>
                    </tr>
                    <tr>
                        <td>ì‹œìŠ¤í…œ íˆ¬ëª…ì„±</td>
                        <td><code>reasoning.system_search_path</code></td>
                        <td>íƒìƒ‰ ê²½ë¡œ</td>
                    </tr>
                    <tr>
                        <td>ì ìˆ˜ ìƒì„¸ ì°¨íŠ¸</td>
                        <td><code>score_breakdown</code></td>
                        <td>ìš”ì†Œë³„ ì ìˆ˜ ë ˆì´ë” ì°¨íŠ¸</td>
                    </tr>
                    <tr>
                        <td>ë³€í™” ì•Œë¦¼</td>
                        <td><code>change_detected, change_summary</code></td>
                        <td>ìƒí™© ë³€í™” ê²½ê³ </td>
                    </tr>
                    <tr>
                        <td>LLM í˜‘ë ¥ ë°°ì§€</td>
                        <td><code>llm_collaboration.*_used</code></td>
                        <td>LLM ì‚¬ìš© ì—¬ë¶€ í‘œì‹œ</td>
                    </tr>
                </tbody>
            </table>
        </div>

        <h2>ğŸ” ì „ì²´ ì‹œìŠ¤í…œ ì›Œí¬í”Œë¡œìš° ìš”ì•½ (Phase 1~5)</h2>
        <div class="summary-box">
            <h3>ğŸ¯ End-to-End í”„ë¡œì„¸ìŠ¤</h3>
            <div class="diagram-container">
                <div class="mermaid">
                    graph LR
                    Data[ì—‘ì…€ ë°ì´í„°] -->|Phase 1| Onto[ì˜¨í†¨ë¡œì§€ êµ¬ì¶•]

                    Onto --> Phase2[Phase 2:<br />ìƒí™© ë¶„ì„]
                    Phase2 --> SPARQL[SPARQL ì¿¼ë¦¬]
                    Phase2 --> RAG[RAG ê²€ìƒ‰]
                    Phase2 --> LLM1[LLM ì¸ì‚¬ì´íŠ¸]

                    SPARQL --> Phase3[Phase 3:<br />COA ê²€ìƒ‰ & ì ìˆ˜]
                    RAG --> Phase3
                    LLM1 --> Phase3

                    Phase3 --> COAScore[ë‹¤ì¤‘ ê¸°ì¤€<br />ì ìˆ˜ ì‚°ì •]
                    COAScore --> Diversity[ë‹¤ì–‘ì„±<br />í•„í„°ë§]

                    Diversity --> Phase4[Phase 4:<br />LLM ì¶”ë¡ ]
                    Phase4 --> Rationale[ë¶€ëŒ€ ìš´ìš©<br />ê·¼ê±° ìƒì„±]

                    Rationale --> Phase5[Phase 5:<br />ìµœì¢… ì¶”ì²œ]
                    Phase5 --> Format[UI í¬ë§·íŒ…]
                    Format --> Change[ë³€í™” ê°ì§€]
                    Change --> Output[ê²°ê³¼ ë°˜í™˜]

                    Output --> UI[React C2 Dashboard]

                    style Data fill:#4CAF50,color:#fff
                    style Onto fill:#2196F3,color:#fff
                    style Phase2 fill:#FF9800,color:#fff
                    style Phase3 fill:#E91E63,color:#fff
                    style Phase4 fill:#9C27B0,color:#fff
                    style Phase5 fill:#00BCD4,color:#fff
                    style UI fill:#F44336,color:#fff
                </div>
            </div>

            <h4>ê° Phaseì˜ í•µì‹¬ ëª©ì </h4>
            <ul>
                <li><strong>Phase 1 (ì˜¨í†¨ë¡œì§€ êµ¬ì¶•)</strong>: ì—‘ì…€ â†’ RDF ê·¸ë˜í”„ ë³€í™˜, ê´€ê³„ ë§¤í•‘</li>
                <li><strong>Phase 2 (ìƒí™© ë¶„ì„)</strong>: SPARQL + RAG + LLMìœ¼ë¡œ ìƒí™© ì´í•´</li>
                <li><strong>Phase 3 (COA ì ìˆ˜ ì‚°ì •)</strong>: 7ê°œ ìš”ì†Œ ê¸°ë°˜ ì •ëŸ‰ í‰ê°€ + ë‹¤ì–‘ì„±</li>
                <li><strong>Phase 4 (LLM ì¶”ë¡ )</strong>: ìì—°ì–´ ì„¤ëª… ìƒì„± (Why & How)</li>
                <li><strong>Phase 5 (ìµœì¢… ì¶”ì²œ)</strong>: UIìš© ë°ì´í„° êµ¬ì¡°í™” + ë³€í™” ì¶”ì </li>
            </ul>
        </div>

        <h2>ğŸ“‚ ì½”ë“œ ì°¸ì¡°</h2>
        <table>
            <thead>
                <tr>
                    <th>íŒŒì¼</th>
                    <th>ì£¼ìš” í•¨ìˆ˜</th>
                    <th>ë¼ì¸</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>logic_defense_enhanced.py</td>
                    <td><code>execute_reasoning()</code> - ê²°ê³¼ êµ¬ì„±</td>
                    <td>540-696</td>
                </tr>
                <tr>
                    <td>logic_defense_enhanced.py</td>
                    <td><code>_generate_overall_situation_summary()</code></td>
                    <td>1011-1143</td>
                </tr>
                <tr>
                    <td>logic_defense_enhanced.py</td>
                    <td><code>_detect_situation_change()</code></td>
                    <td>~2700 (ì¶”ì •)</td>
                </tr>
                <tr>
                    <td>logic_defense_enhanced.py</td>
                    <td><code>_compare_recommendations()</code></td>
                    <td>~2800 (ì¶”ì •)</td>
                </tr>
                <tr>
                    <td>logic_defense_enhanced.py</td>
                    <td><code>_save_to_history()</code></td>
                    <td>~2900 (ì¶”ì •)</td>
                </tr>
            </tbody>
        </table>

        <h2>âœ… ê²€ì¦ í¬ì¸íŠ¸</h2>
        <div class="warning-box">
            <h3>Phase 5 í’ˆì§ˆ í™•ë³´ ì²´í¬ë¦¬ìŠ¤íŠ¸</h3>
            <ol>
                <li><strong>ë°ì´í„° ì™„ì „ì„±</strong>: ëª¨ë“  í•„ìˆ˜ í•„ë“œê°€ ì±„ì›Œì ¸ ìˆëŠ”ì§€</li>
                <li><strong>êµ¬ì¡° ì¼ê´€ì„±</strong>: UI ì»´í¬ë„ŒíŠ¸ê°€ ê¸°ëŒ€í•˜ëŠ” êµ¬ì¡°ì™€ ì¼ì¹˜í•˜ëŠ”ì§€</li>
                <li><strong>ìš”ì•½ í’ˆì§ˆ</strong>: Summary í…ìŠ¤íŠ¸ê°€ ëª…í™•í•˜ê³  ì •í™•í•œì§€</li>
                <li><strong>ë³€í™” ê°ì§€ ì •í™•ì„±</strong>: ì‹¤ì œ ë³€í™”ë§Œ ê°ì§€í•˜ê³  ë…¸ì´ì¦ˆëŠ” ë¬´ì‹œí•˜ëŠ”ì§€</li>
                <li><strong>íˆìŠ¤í† ë¦¬ ì €ì¥</strong>: ì¶”ì²œ ê¸°ë¡ì´ ì˜¬ë°”ë¥´ê²Œ ì €ì¥ë˜ëŠ”ì§€</li>
                <li><strong>ì—ëŸ¬ ì²˜ë¦¬</strong>: ì˜ˆì™¸ ë°œìƒ ì‹œì—ë„ ìµœì†Œí•œì˜ ê²°ê³¼ ë°˜í™˜í•˜ëŠ”ì§€</li>
            </ol>
        </div>

        <h2>ğŸ ì‹œìŠ¤í…œì˜ ìµœì¢… ê°€ì¹˜ ì „ë‹¬</h2>
        <div class="info-box">
            <h3>ì§€íœ˜ê´€ì—ê²Œ ì œê³µë˜ëŠ” ì •ë³´</h3>
            <ol>
                <li><strong>í˜„ì¬ ìƒí™© ì´í•´</strong>: ìì—°ì–´ ìš”ì•½ + êµ¬ì¡°í™”ëœ ìƒí™© ë¶„ì„</li>
                <li><strong>ìµœì  ë°©ì±… 3ê°€ì§€</strong>: ë‹¤ê°ì  ì „ìˆ  ëŒ€ì•ˆ (ìµœì ì•ˆ, ì£¼ë„ê¶Œ í™•ë³´, ì°¨ìˆœìœ„)</li>
                <li><strong>ì„ íƒ ê·¼ê±°</strong>: ì™œ ì´ ë°©ì±…ì´ ì í•©í•œê°€? (ì •ëŸ‰ + ì •ì„±)</li>
                <li><strong>ì‹¤í–‰ ê³„íš</strong>: ì–´ë–¤ ë¶€ëŒ€ê°€ ì–´ë–»ê²Œ íˆ¬ì…ë˜ëŠ”ê°€?</li>
                <li><strong>ì‹œìŠ¤í…œ íˆ¬ëª…ì„±</strong>: ì–´ë–»ê²Œ ì´ ê²°ë¡ ì— ë„ë‹¬í–ˆëŠ”ê°€?</li>
                <li><strong>ìƒí™© ë³€í™” ì¸ì‹</strong>: ì´ì „ ëŒ€ë¹„ ë¬´ì—‡ì´ ë‹¬ë¼ì¡ŒëŠ”ê°€?</li>
                <li><strong>ì‹ ë¢°ë„ ì •ë³´</strong>: ë°ì´í„° í’ˆì§ˆê³¼ ì¶”ë¡  í™•ì‹ ë„</li>
            </ol>
        </div>

        <h2>ğŸ Complete!</h2>
        <p>Phase 5ëŠ” ì‹œìŠ¤í…œì˜ ìµœì¢… ì¶œêµ¬ì ì…ë‹ˆë‹¤. ëª¨ë“  Phaseì˜ ê²°ê³¼ê°€ í†µí•©ë˜ì–´ <strong>ì˜ì‚¬ê²°ì • ì§€ì›</strong>ì„ ìœ„í•œ ì¢…í•© ì •ë³´ë¡œ ì œê³µë©ë‹ˆë‹¤.</p>
    </div>
    <script>
        mermaid.initialize({ startOnLoad: true, theme: 'default' });
    </script>
</body>

</html>